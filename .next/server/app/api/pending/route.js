/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pending/route";
exports.ids = ["app/api/pending/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpending%2Froute&page=%2Fapi%2Fpending%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpending%2Froute.ts&appDir=%2Froot%2Fisolir4%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fisolir4&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpending%2Froute&page=%2Fapi%2Fpending%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpending%2Froute.ts&appDir=%2Froot%2Fisolir4%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fisolir4&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _root_isolir4_app_api_pending_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/pending/route.ts */ \"(rsc)/./app/api/pending/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pending/route\",\n        pathname: \"/api/pending\",\n        filename: \"route\",\n        bundlePath: \"app/api/pending/route\"\n    },\n    resolvedPagePath: \"/root/isolir4/app/api/pending/route.ts\",\n    nextConfigOutput,\n    userland: _root_isolir4_app_api_pending_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/pending/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwZW5kaW5nJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwZW5kaW5nJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcGVuZGluZyUyRnJvdXRlLnRzJmFwcERpcj0lMkZyb290JTJGaXNvbGlyNCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGcm9vdCUyRmlzb2xpcjQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ1Y7QUFDbkU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYW5lbC1ub2MvPzYwNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL3Jvb3QvaXNvbGlyNC9hcHAvYXBpL3BlbmRpbmcvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3BlbmRpbmcvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wZW5kaW5nXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wZW5kaW5nL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL3Jvb3QvaXNvbGlyNC9hcHAvYXBpL3BlbmRpbmcvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3BlbmRpbmcvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpending%2Froute&page=%2Fapi%2Fpending%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpending%2Froute.ts&appDir=%2Froot%2Fisolir4%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fisolir4&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/pending/route.ts":
/*!**********************************!*\
  !*** ./app/api/pending/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\nfunction normalizePendingRow(row) {\n    return {\n        id: row.id,\n        customerName: row.customer_name,\n        description: row.description,\n        address: row.address,\n        kabupaten: row.kabupaten,\n        createdAt: row.created_at instanceof Date ? row.created_at.toISOString() : row.created_at\n    };\n}\nfunction toApiResponse(items) {\n    return {\n        status: \"ok\",\n        items\n    };\n}\nasync function GET() {\n    try {\n        const rows = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.fetchPendingItems)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(toApiResponse(rows.map(normalizePendingRow)), {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"[api/pending] failed to fetch data\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: \"error\",\n            message: \"Gagal mengambil data pendingan.\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const customerName = typeof body.customerName === \"string\" ? body.customerName.trim() : \"\";\n        const description = typeof body.description === \"string\" ? body.description.trim() : \"\";\n        const address = typeof body.address === \"string\" ? body.address.trim() : \"\";\n        const kabupatenRaw = typeof body.kabupaten === \"string\" ? body.kabupaten.trim().toLowerCase() : \"\";\n        if (!customerName || !description || !address || !kabupatenRaw) {\n            throw new Error(\"Nama pelanggan, keterangan, alamat, dan kabupaten wajib diisi.\");\n        }\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.createPendingItem)({\n            customerName,\n            description,\n            address,\n            kabupaten: kabupatenRaw\n        });\n        const rows = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.fetchPendingItems)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ...toApiResponse(rows.map(normalizePendingRow)),\n            message: \"Pendingan berhasil ditambahkan.\"\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"[api/pending] failed to create\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: \"error\",\n            message: error instanceof Error ? error.message : \"Gagal menambahkan pendingan.\"\n        }, {\n            status: 400\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const idParam = searchParams.get(\"id\");\n        const id = idParam ? Number(idParam) : NaN;\n        if (!Number.isFinite(id) || id <= 0) {\n            throw new Error(\"ID pendingan tidak valid.\");\n        }\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.deletePendingItem)(id);\n        const rows = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.fetchPendingItems)();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ...toApiResponse(rows.map(normalizePendingRow)),\n            message: \"Pendingan berhasil dihapus.\"\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"[api/pending] failed to delete\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: \"error\",\n            message: error instanceof Error ? error.message : \"Gagal menghapus pendingan.\"\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNJO1FBQ3hCLE1BQU1jLE9BQU8sTUFBTWpCLDBEQUFpQkE7UUFDcEMsT0FBT0gscURBQVlBLENBQUNxQixJQUFJLENBQ3RCO1lBQ0UsR0FBR0wsY0FBY0ksS0FBS0UsR0FBRyxDQUFDbEIscUJBQXFCO1lBQy9DcUIsU0FBUztRQUNYLEdBQ0E7WUFBRVAsUUFBUTtRQUFJO0lBRWxCLEVBQUUsT0FBT0ssT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxPQUFPdkIscURBQVlBLENBQUNxQixJQUFJLENBQ3RCO1lBQ0VILFFBQVE7WUFDUk8sU0FBU0YsaUJBQWlCUyxRQUFRVCxNQUFNRSxPQUFPLEdBQUc7UUFDcEQsR0FDQTtZQUFFUCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BhbmVsLW5vYy8uL2FwcC9hcGkvcGVuZGluZy9yb3V0ZS50cz82YjY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiXG5cbmltcG9ydCB7IGNyZWF0ZVBlbmRpbmdJdGVtLCBkZWxldGVQZW5kaW5nSXRlbSwgZmV0Y2hQZW5kaW5nSXRlbXMgfSBmcm9tIFwiQC9saWIvZGJcIlxuXG50eXBlIFBlbmRpbmdJdGVtID0ge1xuICBpZDogbnVtYmVyXG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgYWRkcmVzczogc3RyaW5nXG4gIGthYnVwYXRlbjogc3RyaW5nXG4gIGNyZWF0ZWRBdDogc3RyaW5nXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBlbmRpbmdSb3cocm93OiBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGZldGNoUGVuZGluZ0l0ZW1zPj5bbnVtYmVyXSk6IFBlbmRpbmdJdGVtIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogcm93LmlkLFxuICAgIGN1c3RvbWVyTmFtZTogcm93LmN1c3RvbWVyX25hbWUsXG4gICAgZGVzY3JpcHRpb246IHJvdy5kZXNjcmlwdGlvbixcbiAgICBhZGRyZXNzOiByb3cuYWRkcmVzcyxcbiAgICBrYWJ1cGF0ZW46IHJvdy5rYWJ1cGF0ZW4sXG4gICAgY3JlYXRlZEF0OiByb3cuY3JlYXRlZF9hdCBpbnN0YW5jZW9mIERhdGUgPyByb3cuY3JlYXRlZF9hdC50b0lTT1N0cmluZygpIDogcm93LmNyZWF0ZWRfYXQsXG4gIH1cbn1cblxuZnVuY3Rpb24gdG9BcGlSZXNwb25zZShpdGVtczogUGVuZGluZ0l0ZW1bXSkge1xuICByZXR1cm4ge1xuICAgIHN0YXR1czogXCJva1wiLFxuICAgIGl0ZW1zLFxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgcm93cyA9IGF3YWl0IGZldGNoUGVuZGluZ0l0ZW1zKClcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24odG9BcGlSZXNwb25zZShyb3dzLm1hcChub3JtYWxpemVQZW5kaW5nUm93KSksIHsgc3RhdHVzOiAyMDAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW2FwaS9wZW5kaW5nXSBmYWlsZWQgdG8gZmV0Y2ggZGF0YVwiLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgICBtZXNzYWdlOiBcIkdhZ2FsIG1lbmdhbWJpbCBkYXRhIHBlbmRpbmdhbi5cIixcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH0sXG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gKGF3YWl0IHJlcXVlc3QuanNvbigpKSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICAgIGNvbnN0IGN1c3RvbWVyTmFtZSA9IHR5cGVvZiBib2R5LmN1c3RvbWVyTmFtZSA9PT0gXCJzdHJpbmdcIiA/IGJvZHkuY3VzdG9tZXJOYW1lLnRyaW0oKSA6IFwiXCJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHR5cGVvZiBib2R5LmRlc2NyaXB0aW9uID09PSBcInN0cmluZ1wiID8gYm9keS5kZXNjcmlwdGlvbi50cmltKCkgOiBcIlwiXG4gICAgY29uc3QgYWRkcmVzcyA9IHR5cGVvZiBib2R5LmFkZHJlc3MgPT09IFwic3RyaW5nXCIgPyBib2R5LmFkZHJlc3MudHJpbSgpIDogXCJcIlxuICAgIGNvbnN0IGthYnVwYXRlblJhdyA9IHR5cGVvZiBib2R5LmthYnVwYXRlbiA9PT0gXCJzdHJpbmdcIiA/IGJvZHkua2FidXBhdGVuLnRyaW0oKS50b0xvd2VyQ2FzZSgpIDogXCJcIlxuXG4gICAgaWYgKCFjdXN0b21lck5hbWUgfHwgIWRlc2NyaXB0aW9uIHx8ICFhZGRyZXNzIHx8ICFrYWJ1cGF0ZW5SYXcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5hbWEgcGVsYW5nZ2FuLCBrZXRlcmFuZ2FuLCBhbGFtYXQsIGRhbiBrYWJ1cGF0ZW4gd2FqaWIgZGlpc2kuXCIpXG4gICAgfVxuXG4gICAgYXdhaXQgY3JlYXRlUGVuZGluZ0l0ZW0oe1xuICAgICAgY3VzdG9tZXJOYW1lLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBhZGRyZXNzLFxuICAgICAga2FidXBhdGVuOiBrYWJ1cGF0ZW5SYXcsXG4gICAgfSlcblxuICAgIGNvbnN0IHJvd3MgPSBhd2FpdCBmZXRjaFBlbmRpbmdJdGVtcygpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICAuLi50b0FwaVJlc3BvbnNlKHJvd3MubWFwKG5vcm1hbGl6ZVBlbmRpbmdSb3cpKSxcbiAgICAgICAgbWVzc2FnZTogXCJQZW5kaW5nYW4gYmVyaGFzaWwgZGl0YW1iYWhrYW4uXCIsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDIwMSB9LFxuICAgIClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW2FwaS9wZW5kaW5nXSBmYWlsZWQgdG8gY3JlYXRlXCIsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJHYWdhbCBtZW5hbWJhaGthbiBwZW5kaW5nYW4uXCIsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDQwMCB9LFxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBpZFBhcmFtID0gc2VhcmNoUGFyYW1zLmdldChcImlkXCIpXG4gICAgY29uc3QgaWQgPSBpZFBhcmFtID8gTnVtYmVyKGlkUGFyYW0pIDogTmFOXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaWQpIHx8IGlkIDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklEIHBlbmRpbmdhbiB0aWRhayB2YWxpZC5cIilcbiAgICB9XG5cbiAgICBhd2FpdCBkZWxldGVQZW5kaW5nSXRlbShpZClcbiAgICBjb25zdCByb3dzID0gYXdhaXQgZmV0Y2hQZW5kaW5nSXRlbXMoKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgLi4udG9BcGlSZXNwb25zZShyb3dzLm1hcChub3JtYWxpemVQZW5kaW5nUm93KSksXG4gICAgICAgIG1lc3NhZ2U6IFwiUGVuZGluZ2FuIGJlcmhhc2lsIGRpaGFwdXMuXCIsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDIwMCB9LFxuICAgIClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW2FwaS9wZW5kaW5nXSBmYWlsZWQgdG8gZGVsZXRlXCIsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJHYWdhbCBtZW5naGFwdXMgcGVuZGluZ2FuLlwiLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDAgfSxcbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVQZW5kaW5nSXRlbSIsImRlbGV0ZVBlbmRpbmdJdGVtIiwiZmV0Y2hQZW5kaW5nSXRlbXMiLCJub3JtYWxpemVQZW5kaW5nUm93Iiwicm93IiwiaWQiLCJjdXN0b21lck5hbWUiLCJjdXN0b21lcl9uYW1lIiwiZGVzY3JpcHRpb24iLCJhZGRyZXNzIiwia2FidXBhdGVuIiwiY3JlYXRlZEF0IiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInRvQXBpUmVzcG9uc2UiLCJpdGVtcyIsInN0YXR1cyIsIkdFVCIsInJvd3MiLCJqc29uIiwibWFwIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsInRyaW0iLCJrYWJ1cGF0ZW5SYXciLCJ0b0xvd2VyQ2FzZSIsIkVycm9yIiwiREVMRVRFIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiaWRQYXJhbSIsImdldCIsIk51bWJlciIsIk5hTiIsImlzRmluaXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/pending/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAccessPoint: () => (/* binding */ createAccessPoint),\n/* harmony export */   createAktivasiClient: () => (/* binding */ createAktivasiClient),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   createPendingItem: () => (/* binding */ createPendingItem),\n/* harmony export */   deleteAccessPoint: () => (/* binding */ deleteAccessPoint),\n/* harmony export */   deleteClient: () => (/* binding */ deleteClient),\n/* harmony export */   deletePendingItem: () => (/* binding */ deletePendingItem),\n/* harmony export */   fetchAccessPoints: () => (/* binding */ fetchAccessPoints),\n/* harmony export */   fetchClients: () => (/* binding */ fetchClients),\n/* harmony export */   fetchPendingItems: () => (/* binding */ fetchPendingItems),\n/* harmony export */   fetchRouters: () => (/* binding */ fetchRouters),\n/* harmony export */   mysqlPool: () => (/* binding */ mysqlPool),\n/* harmony export */   updateAccessPoint: () => (/* binding */ updateAccessPoint),\n/* harmony export */   updateClient: () => (/* binding */ updateClient),\n/* harmony export */   updateClientStatus: () => (/* binding */ updateClientStatus),\n/* harmony export */   verifyAdminCredentials: () => (/* binding */ verifyAdminCredentials)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n\n\nconst config = {\n    host: \"localhost\",\n    database: \"router_db\",\n    user: \"Harr\",\n    password: \"gmdp@2025\",\n    charset: \"utf8mb4\",\n    waitForConnections: true,\n    connectionLimit: 10,\n    namedPlaceholders: true\n};\nconst globalForPool = globalThis;\nconst mysqlPool = globalForPool.__mysqlPool ?? mysql2_promise__WEBPACK_IMPORTED_MODULE_1__.createPool({\n    ...config,\n    // Ensure we always get plain objects back\n    decimalNumbers: true\n});\nif (!globalForPool.__mysqlPool) {\n    globalForPool.__mysqlPool = mysqlPool;\n}\nasync function fetchAccessPoints() {\n    const [rows] = await mysqlPool.query(`SELECT\n      ap.id,\n      ap.ssid,\n      ap.bts_name,\n      ap.ip_address,\n      ap.device,\n      ap.username,\n      ap.password,\n      ap.security,\n      ap.phrase_key,\n      ap.frequency,\n      ap.channel_width,\n      ap.mac_address,\n      ap.router_id,\n      r.name AS router_name\n    FROM access_points ap\n    LEFT JOIN routers r ON r.id = ap.router_id\n    ORDER BY\n      (ap.bts_name IS NULL OR ap.bts_name = ''),\n      ap.bts_name ASC,\n      ap.ssid ASC`);\n    return rows;\n}\nconst WIB_TIMEZONE = \"Asia/Jakarta\";\nconst ONE_DAY_MS = 24 * 60 * 60 * 1000;\nfunction formatDateToMySQL(timezone, date = new Date()) {\n    const formatter = new Intl.DateTimeFormat(\"sv-SE\", {\n        timeZone: timezone,\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n        hour12: false\n    });\n    const parts = formatter.formatToParts(date).reduce((acc, part)=>{\n        if (part.type !== \"literal\") {\n            acc[part.type] = part.value.padStart(part.type === \"day\" || part.type === \"month\" || part.type === \"hour\" || part.type === \"minute\" || part.type === \"second\" ? 2 : 0, \"0\");\n        }\n        return acc;\n    }, {});\n    return `${parts.year}-${parts.month}-${parts.day} ${parts.hour ?? \"00\"}:${parts.minute ?? \"00\"}:${parts.second ?? \"00\"}`;\n}\nasync function fetchPendingItems() {\n    const now = new Date();\n    const thresholdDate = new Date(now.getTime() - ONE_DAY_MS);\n    const threshold = formatDateToMySQL(WIB_TIMEZONE, thresholdDate);\n    await mysqlPool.query(\"DELETE FROM pending_list WHERE created_at < ?\", [\n        threshold\n    ]);\n    const [rows] = await mysqlPool.query(`SELECT id, customer_name, description, address, kabupaten, created_at\n     FROM pending_list\n     WHERE created_at >= ?\n     ORDER BY created_at DESC`, [\n        threshold\n    ]);\n    return rows;\n}\nasync function createPendingItem(payload) {\n    const createdAt = formatDateToMySQL(WIB_TIMEZONE);\n    const [result] = await mysqlPool.query(`INSERT INTO pending_list (customer_name, description, address, kabupaten, created_at)\n     VALUES (?, ?, ?, ?, ?)`, [\n        payload.customerName,\n        payload.description,\n        payload.address,\n        payload.kabupaten,\n        createdAt\n    ]);\n    return result.insertId;\n}\nasync function deletePendingItem(id) {\n    await mysqlPool.query(\"DELETE FROM pending_list WHERE id = ?\", [\n        id\n    ]);\n}\nasync function verifyAdminCredentials(username, password) {\n    const [rows] = await mysqlPool.query(\"SELECT id, username, password FROM admin_users WHERE username = ? LIMIT 1\", [\n        username\n    ]);\n    if (!rows.length) {\n        return null;\n    }\n    const stored = rows[0].password ?? \"\";\n    if (!stored) {\n        return null;\n    }\n    const candidates = [\n        password\n    ];\n    if (/^[a-f0-9]{64}$/i.test(stored)) {\n        candidates.push(hashWithAlgorithm(\"sha256\", password));\n    }\n    if (/^[a-f0-9]{32}$/i.test(stored)) {\n        candidates.push(hashWithAlgorithm(\"md5\", password));\n    }\n    const isMatch = candidates.some((candidate)=>timingSafeCompare(stored, candidate));\n    if (!isMatch) {\n        return null;\n    }\n    return {\n        id: rows[0].id,\n        username: rows[0].username\n    };\n}\nconst DEFAULT_CLIENT_PAGE_SIZE = 21;\nconst MAX_CLIENT_PAGE_SIZE = 200;\nasync function fetchClients(options = {}) {\n    const rawPage = Number.isFinite(options.page) ? Number(options.page) : 1;\n    const rawPageSize = Number.isFinite(options.pageSize) ? Number(options.pageSize) : DEFAULT_CLIENT_PAGE_SIZE;\n    const pageSize = Math.min(Math.max(Math.floor(rawPageSize) || DEFAULT_CLIENT_PAGE_SIZE, 1), MAX_CLIENT_PAGE_SIZE);\n    const searchTerm = (options.search ?? \"\").trim();\n    const rawRouterId = Number.isFinite(options.routerId) ? Number(options.routerId) : null;\n    const routerId = rawRouterId && rawRouterId > 0 ? rawRouterId : null;\n    const likeTerm = searchTerm ? `%${searchTerm.replace(/\\s+/g, \"%\")}%` : null;\n    const searchParams = likeTerm ? [\n        likeTerm,\n        likeTerm,\n        likeTerm,\n        likeTerm,\n        likeTerm,\n        likeTerm,\n        likeTerm\n    ] : [];\n    const whereParts = [];\n    const whereParams = [];\n    if (likeTerm) {\n        whereParts.push(`(\n      u.username LIKE ?\n      OR u.ip_address LIKE ?\n      OR u.type LIKE ?\n      OR u.status LIKE ?\n      OR u.profile LIKE ?\n      OR u.comment LIKE ?\n      OR r.name LIKE ?\n    )`);\n        whereParams.push(...searchParams);\n    }\n    if (routerId !== null) {\n        whereParts.push(\"u.router_id = ?\");\n        whereParams.push(routerId);\n    }\n    const whereClause = whereParts.length > 0 ? `WHERE ${whereParts.join(\" AND \")}` : \"\";\n    const [countRows] = await mysqlPool.query(`SELECT COUNT(*) AS total\n     FROM users u\n     LEFT JOIN routers r ON r.id = u.router_id\n     ${whereClause}`, whereParams);\n    const totalItems = countRows[0]?.total ?? 0;\n    const totalPages = totalItems === 0 ? 0 : Math.ceil(totalItems / pageSize);\n    const safePage = totalPages === 0 ? 1 : Math.min(Math.max(Math.floor(rawPage) || 1, 1), totalPages);\n    const offset = (safePage - 1) * pageSize;\n    const [rows] = await mysqlPool.query(`SELECT\n      u.id,\n      u.username,\n      u.ip_address,\n      u.type,\n      u.status,\n      u.profile,\n      u.comment,\n      u.router_id,\n      u.profile_asli,\n       r.name AS router_name\n    FROM users u\n    LEFT JOIN routers r ON r.id = u.router_id\n    ${whereClause}\n    ORDER BY u.updated_at DESC, u.username ASC\n    LIMIT ?\n    OFFSET ?`, [\n        ...whereParams,\n        pageSize,\n        offset\n    ]);\n    return {\n        items: rows,\n        page: safePage,\n        pageSize,\n        totalItems,\n        totalPages,\n        search: searchTerm,\n        routerId\n    };\n}\nasync function updateClientStatus(id, status) {\n    const [rows] = await mysqlPool.query(`SELECT type, profile, profile_asli FROM users WHERE id = ? LIMIT 1`, [\n        id\n    ]);\n    if (!rows.length) {\n        throw new Error(\"Client tidak ditemukan.\");\n    }\n    const row = rows[0];\n    const currentProfile = row.profile ?? null;\n    const storedOriginalProfile = row.profile_asli?.trim() ? row.profile_asli : null;\n    const type = row.type?.trim().toLowerCase() ?? null;\n    if (status === \"nonaktif\") {\n        const originalProfile = storedOriginalProfile ?? currentProfile ?? null;\n        await mysqlPool.query(`UPDATE users\n       SET\n         status = 'nonaktif',\n         profile_asli = COALESCE(NULLIF(profile_asli, ''), ?),\n         profile = 'isolir',\n         manual_override = 1,\n         updated_at = NOW()\n       WHERE id = ?`, [\n            originalProfile,\n            id\n        ]);\n    } else {\n        const nextProfile = type === \"pppoe\" ? storedOriginalProfile ?? \"normal\" : \"normal\";\n        await mysqlPool.query(`UPDATE users\n       SET\n         status = 'aktif',\n         profile = ?,\n         manual_override = 1,\n         updated_at = NOW()\n       WHERE id = ?`, [\n            nextProfile,\n            id\n        ]);\n    }\n}\nasync function createClient(payload) {\n    const username = payload.username?.trim() ?? \"\";\n    if (!username) {\n        throw new Error(\"Username wajib diisi.\");\n    }\n    const ipAddress = payload.ipAddress?.trim() || null;\n    const rawType = payload.type?.trim() || null;\n    const type = rawType ? rawType.toLowerCase() : null;\n    const status = payload.status === \"nonaktif\" ? \"nonaktif\" : \"aktif\";\n    const comment = payload.comment?.trim() || null;\n    const numericRouterId = typeof payload.routerId === \"number\" && Number.isFinite(payload.routerId) && payload.routerId > 0 ? Math.floor(payload.routerId) : null;\n    const baseProfile = payload.profile?.trim() || (type === \"pppoe\" ? \"normal\" : null);\n    const profile = status === \"nonaktif\" ? \"isolir\" : baseProfile;\n    const profileAsli = baseProfile;\n    const [result] = await mysqlPool.query(`INSERT INTO users (\n      username,\n      ip_address,\n      type,\n      status,\n      profile,\n      profile_asli,\n      comment,\n      router_id,\n      manual_override,\n      created_at,\n      updated_at\n    )\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, 1, NOW(), NOW())`, [\n        username,\n        ipAddress,\n        type,\n        status,\n        profile,\n        profileAsli,\n        comment,\n        numericRouterId\n    ]);\n    return result.insertId;\n}\nasync function createAktivasiClient(payload) {\n    const [result] = await mysqlPool.query(`INSERT INTO aktivasi_clients (\n      nama_pelanggan,\n      nama_layanan,\n      kapasitas_layanan,\n      vlan_id,\n      nama_metro,\n      site_metro,\n      kapasitas_metro,\n      ip_address,\n      ip_gateway,\n      router_gateway,\n      created_by,\n      created_at,\n      updated_at\n    )\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())`, [\n        payload.namaPelanggan.trim(),\n        payload.namaLayanan.trim(),\n        payload.kapasitasLayanan.trim(),\n        payload.vlanId.trim(),\n        payload.namaMetro.trim(),\n        payload.siteMetro.trim(),\n        payload.kapasitasMetro.trim(),\n        payload.ipAddress.trim(),\n        payload.ipGateway.trim(),\n        payload.routerGateway.trim(),\n        payload.createdBy.trim()\n    ]);\n    return result.insertId;\n}\nasync function updateClient(id, payload) {\n    if (!Number.isFinite(id) || id <= 0) {\n        throw new Error(\"ID client tidak valid.\");\n    }\n    const [rows] = await mysqlPool.query(`SELECT username, ip_address, type, status, profile, profile_asli, comment, router_id\n     FROM users\n     WHERE id = ?\n     LIMIT 1`, [\n        id\n    ]);\n    if (!rows.length) {\n        throw new Error(\"Client tidak ditemukan.\");\n    }\n    const existing = rows[0];\n    const usernameRaw = payload.username !== undefined ? payload.username : existing.username;\n    const username = usernameRaw?.trim();\n    if (!username) {\n        throw new Error(\"Username wajib diisi.\");\n    }\n    const ipRaw = payload.ipAddress !== undefined ? payload.ipAddress : existing.ip_address;\n    const ipAddress = ipRaw ? ipRaw.trim() : null;\n    const typeRaw = payload.type !== undefined ? payload.type : existing.type;\n    const type = typeRaw ? typeRaw.trim().toLowerCase() || null : null;\n    const commentRaw = payload.comment !== undefined ? payload.comment : existing.comment;\n    const comment = commentRaw ? commentRaw.trim() : null;\n    const routerValue = payload.routerId !== undefined ? payload.routerId : existing.router_id;\n    const routerId = typeof routerValue === \"number\" && Number.isFinite(routerValue) && routerValue > 0 ? Math.floor(routerValue) : null;\n    const statusInput = payload.status ?? (existing.status === \"nonaktif\" ? \"nonaktif\" : \"aktif\");\n    const status = statusInput === \"nonaktif\" ? \"nonaktif\" : \"aktif\";\n    const profileInputRaw = payload.profile !== undefined ? payload.profile : null;\n    const profileInput = profileInputRaw ? profileInputRaw.trim() : null;\n    const existingProfile = existing.profile?.trim() || null;\n    const existingProfileAsli = existing.profile_asli?.trim() || null;\n    let profile = existingProfile;\n    let profileAsli = existingProfileAsli;\n    if (status === \"nonaktif\") {\n        const originalProfile = profileInput ?? profileAsli ?? existingProfile ?? (type === \"pppoe\" ? \"normal\" : null);\n        profileAsli = originalProfile;\n        profile = \"isolir\";\n    } else {\n        const baseProfile = profileInput ?? profileAsli ?? (existingProfile !== \"isolir\" ? existingProfile : null) ?? (type === \"pppoe\" ? \"normal\" : null);\n        profileAsli = baseProfile;\n        profile = baseProfile;\n    }\n    await mysqlPool.query(`UPDATE users\n     SET\n       username = ?,\n       ip_address = ?,\n       type = ?,\n       status = ?,\n       profile = ?,\n       profile_asli = ?,\n       comment = ?,\n       router_id = ?,\n       manual_override = 1,\n       updated_at = NOW()\n     WHERE id = ?`, [\n        username,\n        ipAddress,\n        type,\n        status,\n        profile,\n        profileAsli,\n        comment,\n        routerId,\n        id\n    ]);\n}\nasync function deleteClient(id) {\n    if (!Number.isFinite(id) || id <= 0) {\n        throw new Error(\"ID client tidak valid.\");\n    }\n    const [result] = await mysqlPool.query(\"DELETE FROM users WHERE id = ?\", [\n        id\n    ]);\n    if (result.affectedRows === 0) {\n        throw new Error(\"Client tidak ditemukan.\");\n    }\n}\nfunction timingSafeCompare(a, b) {\n    const bufA = Buffer.from(a || \"\");\n    const bufB = Buffer.from(b || \"\");\n    if (bufA.length === bufB.length) {\n        return crypto__WEBPACK_IMPORTED_MODULE_0___default().timingSafeEqual(bufA, bufB);\n    }\n    const len = Math.max(bufA.length, bufB.length);\n    const paddedA = Buffer.alloc(len);\n    const paddedB = Buffer.alloc(len);\n    bufA.copy(paddedA);\n    bufB.copy(paddedB);\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().timingSafeEqual(paddedA, paddedB) && a === b;\n}\nfunction hashWithAlgorithm(algorithm, value) {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(algorithm).update(value).digest(\"hex\");\n}\nasync function fetchRouters() {\n    const [rows] = await mysqlPool.query(\"SELECT id, name FROM routers ORDER BY name ASC\");\n    return rows;\n}\nasync function createAccessPoint(payload) {\n    const [result] = await mysqlPool.query(`INSERT INTO access_points (\n      ssid,\n      bts_name,\n      ip_address,\n      device,\n      username,\n      password,\n      security,\n      phrase_key,\n      frequency,\n      channel_width,\n      mac_address,\n      router_id,\n      created_at\n    )\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW())`, [\n        payload.ssid,\n        payload.btsName,\n        payload.ipAddress,\n        payload.device,\n        payload.username,\n        payload.password,\n        payload.security,\n        payload.phraseKey,\n        payload.frequency,\n        payload.channelWidth,\n        payload.macAddress,\n        payload.routerId\n    ]);\n    return result.insertId;\n}\nasync function updateAccessPoint(id, payload) {\n    await mysqlPool.query(`UPDATE access_points\n     SET ssid = ?, bts_name = ?, ip_address = ?, device = ?, username = ?, password = ?, security = ?, phrase_key = ?, frequency = ?, channel_width = ?, mac_address = ?, router_id = ?\n     WHERE id = ?`, [\n        payload.ssid,\n        payload.btsName,\n        payload.ipAddress,\n        payload.device,\n        payload.username,\n        payload.password,\n        payload.security,\n        payload.phraseKey,\n        payload.frequency,\n        payload.channelWidth,\n        payload.macAddress,\n        payload.routerId,\n        id\n    ]);\n}\nasync function deleteAccessPoint(id) {\n    await mysqlPool.query(\"DELETE FROM access_points WHERE id = ?\", [\n        id\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxPQUFPO1FBQ2Z6SCxRQUFRb0UsU0FBUztRQUNqQnBFLFFBQVEwSCxNQUFNO1FBQ2QxSCxRQUFRVyxRQUFRO1FBQ2hCWCxRQUFRN0MsUUFBUTtRQUNoQjZDLFFBQVEySCxRQUFRO1FBQ2hCM0gsUUFBUTRILFNBQVM7UUFDakI1SCxRQUFRNkgsU0FBUztRQUNqQjdILFFBQVE4SCxZQUFZO1FBQ3BCOUgsUUFBUStILFVBQVU7UUFDbEIvSCxRQUFRd0MsUUFBUTtRQUNoQi9CO0tBQ0Q7QUFFTDtBQUVPLGVBQWV3SCxrQkFBa0J4SCxFQUFVO0lBQ2hELE1BQU0vQyxVQUFVTSxLQUFLLENBQUMsMENBQTBDO1FBQUN5QztLQUFHO0FBQ3RFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFuZWwtbm9jLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgdHlwZSB7IFBvb2xPcHRpb25zIH0gZnJvbSBcIm15c3FsMi9wcm9taXNlXCI7XG5pbXBvcnQgbXlzcWwgZnJvbSBcIm15c3FsMi9wcm9taXNlXCI7XG5cbnR5cGUgUm93RGF0YVBhY2tldCA9IG15c3FsLlJvd0RhdGFQYWNrZXQ7XG5cbnR5cGUgR2xvYmFsV2l0aFBvb2wgPSB0eXBlb2YgZ2xvYmFsVGhpcyAmIHtcbiAgX19teXNxbFBvb2w/OiBteXNxbC5Qb29sO1xufTtcblxuY29uc3QgY29uZmlnOiBQb29sT3B0aW9ucyA9IHtcbiAgaG9zdDogXCJsb2NhbGhvc3RcIixcbiAgZGF0YWJhc2U6IFwicm91dGVyX2RiXCIsXG4gIHVzZXI6IFwiSGFyclwiLFxuICBwYXNzd29yZDogXCJnbWRwQDIwMjVcIixcbiAgY2hhcnNldDogXCJ1dGY4bWI0XCIsXG4gIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcbiAgY29ubmVjdGlvbkxpbWl0OiAxMCxcbiAgbmFtZWRQbGFjZWhvbGRlcnM6IHRydWUsXG59O1xuXG5jb25zdCBnbG9iYWxGb3JQb29sID0gZ2xvYmFsVGhpcyBhcyBHbG9iYWxXaXRoUG9vbDtcblxuZXhwb3J0IGNvbnN0IG15c3FsUG9vbCA9XG4gIGdsb2JhbEZvclBvb2wuX19teXNxbFBvb2wgPz9cbiAgbXlzcWwuY3JlYXRlUG9vbCh7XG4gICAgLi4uY29uZmlnLFxuICAgIC8vIEVuc3VyZSB3ZSBhbHdheXMgZ2V0IHBsYWluIG9iamVjdHMgYmFja1xuICAgIGRlY2ltYWxOdW1iZXJzOiB0cnVlLFxuICB9KTtcblxuaWYgKCFnbG9iYWxGb3JQb29sLl9fbXlzcWxQb29sKSB7XG4gIGdsb2JhbEZvclBvb2wuX19teXNxbFBvb2wgPSBteXNxbFBvb2w7XG59XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc1BvaW50Um93ID0gUm93RGF0YVBhY2tldCAmIHtcbiAgaWQ6IG51bWJlcjtcbiAgc3NpZDogc3RyaW5nIHwgbnVsbDtcbiAgYnRzX25hbWU6IHN0cmluZyB8IG51bGw7XG4gIGlwX2FkZHJlc3M6IHN0cmluZyB8IG51bGw7XG4gIGRldmljZTogc3RyaW5nIHwgbnVsbDtcbiAgdXNlcm5hbWU6IHN0cmluZyB8IG51bGw7XG4gIHBhc3N3b3JkOiBzdHJpbmcgfCBudWxsO1xuICBzZWN1cml0eTogc3RyaW5nIHwgbnVsbDtcbiAgcGhyYXNlX2tleTogc3RyaW5nIHwgbnVsbDtcbiAgZnJlcXVlbmN5OiBzdHJpbmcgfCBudWxsO1xuICBjaGFubmVsX3dpZHRoOiBzdHJpbmcgfCBudWxsO1xuICBtYWNfYWRkcmVzczogc3RyaW5nIHwgbnVsbDtcbiAgcm91dGVyX2lkOiBudW1iZXIgfCBudWxsO1xuICByb3V0ZXJfbmFtZTogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEFjY2Vzc1BvaW50cygpOiBQcm9taXNlPEFjY2Vzc1BvaW50Um93W10+IHtcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PEFjY2Vzc1BvaW50Um93W10+KFxuICAgIGBTRUxFQ1RcbiAgICAgIGFwLmlkLFxuICAgICAgYXAuc3NpZCxcbiAgICAgIGFwLmJ0c19uYW1lLFxuICAgICAgYXAuaXBfYWRkcmVzcyxcbiAgICAgIGFwLmRldmljZSxcbiAgICAgIGFwLnVzZXJuYW1lLFxuICAgICAgYXAucGFzc3dvcmQsXG4gICAgICBhcC5zZWN1cml0eSxcbiAgICAgIGFwLnBocmFzZV9rZXksXG4gICAgICBhcC5mcmVxdWVuY3ksXG4gICAgICBhcC5jaGFubmVsX3dpZHRoLFxuICAgICAgYXAubWFjX2FkZHJlc3MsXG4gICAgICBhcC5yb3V0ZXJfaWQsXG4gICAgICByLm5hbWUgQVMgcm91dGVyX25hbWVcbiAgICBGUk9NIGFjY2Vzc19wb2ludHMgYXBcbiAgICBMRUZUIEpPSU4gcm91dGVycyByIE9OIHIuaWQgPSBhcC5yb3V0ZXJfaWRcbiAgICBPUkRFUiBCWVxuICAgICAgKGFwLmJ0c19uYW1lIElTIE5VTEwgT1IgYXAuYnRzX25hbWUgPSAnJyksXG4gICAgICBhcC5idHNfbmFtZSBBU0MsXG4gICAgICBhcC5zc2lkIEFTQ2BcbiAgKTtcblxuICByZXR1cm4gcm93cztcbn1cblxuZXhwb3J0IHR5cGUgUGVuZGluZ0l0ZW1Sb3cgPSBSb3dEYXRhUGFja2V0ICYge1xuICBpZDogbnVtYmVyO1xuICBjdXN0b21lcl9uYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGFkZHJlc3M6IHN0cmluZztcbiAga2FidXBhdGVuOiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IERhdGU7XG59O1xuXG5jb25zdCBXSUJfVElNRVpPTkUgPSBcIkFzaWEvSmFrYXJ0YVwiO1xuY29uc3QgT05FX0RBWV9NUyA9IDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGVUb015U1FMKHRpbWV6b25lOiBzdHJpbmcsIGRhdGUgPSBuZXcgRGF0ZSgpKTogc3RyaW5nIHtcbiAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJzdi1TRVwiLCB7XG4gICAgdGltZVpvbmU6IHRpbWV6b25lLFxuICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgIG1vbnRoOiBcIjItZGlnaXRcIixcbiAgICBkYXk6IFwiMi1kaWdpdFwiLFxuICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gICAgc2Vjb25kOiBcIjItZGlnaXRcIixcbiAgICBob3VyMTI6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgcGFydHMgPSBmb3JtYXR0ZXIuZm9ybWF0VG9QYXJ0cyhkYXRlKS5yZWR1Y2U8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4oKGFjYywgcGFydCkgPT4ge1xuICAgIGlmIChwYXJ0LnR5cGUgIT09IFwibGl0ZXJhbFwiKSB7XG4gICAgICBhY2NbcGFydC50eXBlXSA9IHBhcnQudmFsdWUucGFkU3RhcnQocGFydC50eXBlID09PSBcImRheVwiIHx8IHBhcnQudHlwZSA9PT0gXCJtb250aFwiIHx8IHBhcnQudHlwZSA9PT0gXCJob3VyXCIgfHwgcGFydC50eXBlID09PSBcIm1pbnV0ZVwiIHx8IHBhcnQudHlwZSA9PT0gXCJzZWNvbmRcIiA/IDIgOiAwLCBcIjBcIik7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcblxuICByZXR1cm4gYCR7cGFydHMueWVhcn0tJHtwYXJ0cy5tb250aH0tJHtwYXJ0cy5kYXl9ICR7cGFydHMuaG91ciA/PyBcIjAwXCJ9OiR7cGFydHMubWludXRlID8/IFwiMDBcIn06JHtwYXJ0cy5zZWNvbmQgPz8gXCIwMFwifWA7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFBlbmRpbmdJdGVtcygpOiBQcm9taXNlPFBlbmRpbmdJdGVtUm93W10+IHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgY29uc3QgdGhyZXNob2xkRGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgLSBPTkVfREFZX01TKTtcbiAgY29uc3QgdGhyZXNob2xkID0gZm9ybWF0RGF0ZVRvTXlTUUwoV0lCX1RJTUVaT05FLCB0aHJlc2hvbGREYXRlKTtcblxuICBhd2FpdCBteXNxbFBvb2wucXVlcnkoXCJERUxFVEUgRlJPTSBwZW5kaW5nX2xpc3QgV0hFUkUgY3JlYXRlZF9hdCA8ID9cIiwgW3RocmVzaG9sZF0pO1xuXG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IG15c3FsUG9vbC5xdWVyeTxQZW5kaW5nSXRlbVJvd1tdPihcbiAgICBgU0VMRUNUIGlkLCBjdXN0b21lcl9uYW1lLCBkZXNjcmlwdGlvbiwgYWRkcmVzcywga2FidXBhdGVuLCBjcmVhdGVkX2F0XG4gICAgIEZST00gcGVuZGluZ19saXN0XG4gICAgIFdIRVJFIGNyZWF0ZWRfYXQgPj0gP1xuICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0NgLFxuICAgIFt0aHJlc2hvbGRdLFxuICApO1xuXG4gIHJldHVybiByb3dzO1xufVxuXG50eXBlIFBlbmRpbmdQYXlsb2FkID0ge1xuICBjdXN0b21lck5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgYWRkcmVzczogc3RyaW5nO1xuICBrYWJ1cGF0ZW46IHN0cmluZztcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQZW5kaW5nSXRlbShwYXlsb2FkOiBQZW5kaW5nUGF5bG9hZCk6IFByb21pc2U8bnVtYmVyPiB7XG4gIGNvbnN0IGNyZWF0ZWRBdCA9IGZvcm1hdERhdGVUb015U1FMKFdJQl9USU1FWk9ORSk7XG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PG15c3FsLlJlc3VsdFNldEhlYWRlcj4oXG4gICAgYElOU0VSVCBJTlRPIHBlbmRpbmdfbGlzdCAoY3VzdG9tZXJfbmFtZSwgZGVzY3JpcHRpb24sIGFkZHJlc3MsIGthYnVwYXRlbiwgY3JlYXRlZF9hdClcbiAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/KWAsXG4gICAgW3BheWxvYWQuY3VzdG9tZXJOYW1lLCBwYXlsb2FkLmRlc2NyaXB0aW9uLCBwYXlsb2FkLmFkZHJlc3MsIHBheWxvYWQua2FidXBhdGVuLCBjcmVhdGVkQXRdLFxuICApO1xuXG4gIHJldHVybiByZXN1bHQuaW5zZXJ0SWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQZW5kaW5nSXRlbShpZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IG15c3FsUG9vbC5xdWVyeShcIkRFTEVURSBGUk9NIHBlbmRpbmdfbGlzdCBXSEVSRSBpZCA9ID9cIiwgW2lkXSk7XG59XG5cbnR5cGUgQWRtaW5Vc2VyUm93ID0gUm93RGF0YVBhY2tldCAmIHtcbiAgaWQ6IG51bWJlcjtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QWRtaW5DcmVkZW50aWFscyh1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTx7IGlkOiBudW1iZXI7IHVzZXJuYW1lOiBzdHJpbmcgfSB8IG51bGw+IHtcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PEFkbWluVXNlclJvd1tdPihcbiAgICBcIlNFTEVDVCBpZCwgdXNlcm5hbWUsIHBhc3N3b3JkIEZST00gYWRtaW5fdXNlcnMgV0hFUkUgdXNlcm5hbWUgPSA/IExJTUlUIDFcIixcbiAgICBbdXNlcm5hbWVdLFxuICApO1xuXG4gIGlmICghcm93cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHN0b3JlZCA9IHJvd3NbMF0ucGFzc3dvcmQgPz8gXCJcIjtcbiAgaWYgKCFzdG9yZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGNhbmRpZGF0ZXM6IHN0cmluZ1tdID0gW3Bhc3N3b3JkXTtcblxuICBpZiAoL15bYS1mMC05XXs2NH0kL2kudGVzdChzdG9yZWQpKSB7XG4gICAgY2FuZGlkYXRlcy5wdXNoKGhhc2hXaXRoQWxnb3JpdGhtKCdzaGEyNTYnLCBwYXNzd29yZCkpO1xuICB9XG4gIGlmICgvXlthLWYwLTldezMyfSQvaS50ZXN0KHN0b3JlZCkpIHtcbiAgICBjYW5kaWRhdGVzLnB1c2goaGFzaFdpdGhBbGdvcml0aG0oJ21kNScsIHBhc3N3b3JkKSk7XG4gIH1cblxuICBjb25zdCBpc01hdGNoID0gY2FuZGlkYXRlcy5zb21lKChjYW5kaWRhdGUpID0+IHRpbWluZ1NhZmVDb21wYXJlKHN0b3JlZCwgY2FuZGlkYXRlKSk7XG4gIGlmICghaXNNYXRjaCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHsgaWQ6IHJvd3NbMF0uaWQsIHVzZXJuYW1lOiByb3dzWzBdLnVzZXJuYW1lIH07XG59XG5cbmV4cG9ydCB0eXBlIENsaWVudFJvdyA9IFJvd0RhdGFQYWNrZXQgJiB7XG4gIGlkOiBudW1iZXI7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIGlwX2FkZHJlc3M6IHN0cmluZyB8IG51bGw7XG4gIHR5cGU6IHN0cmluZyB8IG51bGw7XG4gIHN0YXR1czogc3RyaW5nIHwgbnVsbDtcbiAgcHJvZmlsZTogc3RyaW5nIHwgbnVsbDtcbiAgcHJvZmlsZV9hc2xpOiBzdHJpbmcgfCBudWxsO1xuICBjb21tZW50OiBzdHJpbmcgfCBudWxsO1xuICByb3V0ZXJfaWQ6IG51bWJlciB8IG51bGw7XG4gIHJvdXRlcl9uYW1lOiBzdHJpbmcgfCBudWxsO1xufTtcblxuZXhwb3J0IHR5cGUgRmV0Y2hDbGllbnRzT3B0aW9ucyA9IHtcbiAgcGFnZT86IG51bWJlcjtcbiAgcGFnZVNpemU/OiBudW1iZXI7XG4gIHNlYXJjaD86IHN0cmluZztcbiAgcm91dGVySWQ/OiBudW1iZXIgfCBudWxsO1xufTtcblxuZXhwb3J0IHR5cGUgRmV0Y2hDbGllbnRzUmVzcG9uc2UgPSB7XG4gIGl0ZW1zOiBDbGllbnRSb3dbXTtcbiAgcGFnZTogbnVtYmVyO1xuICBwYWdlU2l6ZTogbnVtYmVyO1xuICB0b3RhbEl0ZW1zOiBudW1iZXI7XG4gIHRvdGFsUGFnZXM6IG51bWJlcjtcbiAgc2VhcmNoOiBzdHJpbmc7XG4gIHJvdXRlcklkOiBudW1iZXIgfCBudWxsO1xufTtcblxuY29uc3QgREVGQVVMVF9DTElFTlRfUEFHRV9TSVpFID0gMjE7XG5jb25zdCBNQVhfQ0xJRU5UX1BBR0VfU0laRSA9IDIwMDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQ2xpZW50cyhvcHRpb25zOiBGZXRjaENsaWVudHNPcHRpb25zID0ge30pOiBQcm9taXNlPEZldGNoQ2xpZW50c1Jlc3BvbnNlPiB7XG4gIGNvbnN0IHJhd1BhZ2UgPSBOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5wYWdlKSA/IE51bWJlcihvcHRpb25zLnBhZ2UpIDogMTtcbiAgY29uc3QgcmF3UGFnZVNpemUgPSBOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5wYWdlU2l6ZSkgPyBOdW1iZXIob3B0aW9ucy5wYWdlU2l6ZSkgOiBERUZBVUxUX0NMSUVOVF9QQUdFX1NJWkU7XG4gIGNvbnN0IHBhZ2VTaXplID0gTWF0aC5taW4oTWF0aC5tYXgoTWF0aC5mbG9vcihyYXdQYWdlU2l6ZSkgfHwgREVGQVVMVF9DTElFTlRfUEFHRV9TSVpFLCAxKSwgTUFYX0NMSUVOVF9QQUdFX1NJWkUpO1xuICBjb25zdCBzZWFyY2hUZXJtID0gKG9wdGlvbnMuc2VhcmNoID8/IFwiXCIpLnRyaW0oKTtcbiAgY29uc3QgcmF3Um91dGVySWQgPSBOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5yb3V0ZXJJZCkgPyBOdW1iZXIob3B0aW9ucy5yb3V0ZXJJZCkgOiBudWxsO1xuICBjb25zdCByb3V0ZXJJZCA9IHJhd1JvdXRlcklkICYmIHJhd1JvdXRlcklkID4gMCA/IHJhd1JvdXRlcklkIDogbnVsbDtcblxuICBjb25zdCBsaWtlVGVybSA9IHNlYXJjaFRlcm0gPyBgJSR7c2VhcmNoVGVybS5yZXBsYWNlKC9cXHMrL2csIFwiJVwiKX0lYCA6IG51bGw7XG4gIGNvbnN0IHNlYXJjaFBhcmFtczogc3RyaW5nW10gPSBsaWtlVGVybVxuICAgID8gW2xpa2VUZXJtLCBsaWtlVGVybSwgbGlrZVRlcm0sIGxpa2VUZXJtLCBsaWtlVGVybSwgbGlrZVRlcm0sIGxpa2VUZXJtXVxuICAgIDogW107XG5cbiAgY29uc3Qgd2hlcmVQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgY29uc3Qgd2hlcmVQYXJhbXM6IEFycmF5PHN0cmluZyB8IG51bWJlcj4gPSBbXTtcblxuICBpZiAobGlrZVRlcm0pIHtcbiAgICB3aGVyZVBhcnRzLnB1c2goYChcbiAgICAgIHUudXNlcm5hbWUgTElLRSA/XG4gICAgICBPUiB1LmlwX2FkZHJlc3MgTElLRSA/XG4gICAgICBPUiB1LnR5cGUgTElLRSA/XG4gICAgICBPUiB1LnN0YXR1cyBMSUtFID9cbiAgICAgIE9SIHUucHJvZmlsZSBMSUtFID9cbiAgICAgIE9SIHUuY29tbWVudCBMSUtFID9cbiAgICAgIE9SIHIubmFtZSBMSUtFID9cbiAgICApYCk7XG4gICAgd2hlcmVQYXJhbXMucHVzaCguLi5zZWFyY2hQYXJhbXMpO1xuICB9XG5cbiAgaWYgKHJvdXRlcklkICE9PSBudWxsKSB7XG4gICAgd2hlcmVQYXJ0cy5wdXNoKFwidS5yb3V0ZXJfaWQgPSA/XCIpO1xuICAgIHdoZXJlUGFyYW1zLnB1c2gocm91dGVySWQpO1xuICB9XG5cbiAgY29uc3Qgd2hlcmVDbGF1c2UgPSB3aGVyZVBhcnRzLmxlbmd0aCA+IDAgPyBgV0hFUkUgJHt3aGVyZVBhcnRzLmpvaW4oXCIgQU5EIFwiKX1gIDogXCJcIjtcblxuICBjb25zdCBbY291bnRSb3dzXSA9IGF3YWl0IG15c3FsUG9vbC5xdWVyeTxBcnJheTx7IHRvdGFsOiBudW1iZXIgfT4gJiBSb3dEYXRhUGFja2V0W10+KFxuICAgIGBTRUxFQ1QgQ09VTlQoKikgQVMgdG90YWxcbiAgICAgRlJPTSB1c2VycyB1XG4gICAgIExFRlQgSk9JTiByb3V0ZXJzIHIgT04gci5pZCA9IHUucm91dGVyX2lkXG4gICAgICR7d2hlcmVDbGF1c2V9YCxcbiAgICB3aGVyZVBhcmFtcyxcbiAgKTtcblxuICBjb25zdCB0b3RhbEl0ZW1zID0gY291bnRSb3dzWzBdPy50b3RhbCA/PyAwO1xuICBjb25zdCB0b3RhbFBhZ2VzID0gdG90YWxJdGVtcyA9PT0gMCA/IDAgOiBNYXRoLmNlaWwodG90YWxJdGVtcyAvIHBhZ2VTaXplKTtcbiAgY29uc3Qgc2FmZVBhZ2UgPSB0b3RhbFBhZ2VzID09PSAwID8gMSA6IE1hdGgubWluKE1hdGgubWF4KE1hdGguZmxvb3IocmF3UGFnZSkgfHwgMSwgMSksIHRvdGFsUGFnZXMpO1xuICBjb25zdCBvZmZzZXQgPSAoc2FmZVBhZ2UgLSAxKSAqIHBhZ2VTaXplO1xuXG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IG15c3FsUG9vbC5xdWVyeTxDbGllbnRSb3dbXT4oXG4gICAgYFNFTEVDVFxuICAgICAgdS5pZCxcbiAgICAgIHUudXNlcm5hbWUsXG4gICAgICB1LmlwX2FkZHJlc3MsXG4gICAgICB1LnR5cGUsXG4gICAgICB1LnN0YXR1cyxcbiAgICAgIHUucHJvZmlsZSxcbiAgICAgIHUuY29tbWVudCxcbiAgICAgIHUucm91dGVyX2lkLFxuICAgICAgdS5wcm9maWxlX2FzbGksXG4gICAgICAgci5uYW1lIEFTIHJvdXRlcl9uYW1lXG4gICAgRlJPTSB1c2VycyB1XG4gICAgTEVGVCBKT0lOIHJvdXRlcnMgciBPTiByLmlkID0gdS5yb3V0ZXJfaWRcbiAgICAke3doZXJlQ2xhdXNlfVxuICAgIE9SREVSIEJZIHUudXBkYXRlZF9hdCBERVNDLCB1LnVzZXJuYW1lIEFTQ1xuICAgIExJTUlUID9cbiAgICBPRkZTRVQgP2AsXG4gICAgWy4uLndoZXJlUGFyYW1zLCBwYWdlU2l6ZSwgb2Zmc2V0XSxcbiAgKTtcblxuICByZXR1cm4ge1xuICAgIGl0ZW1zOiByb3dzLFxuICAgIHBhZ2U6IHNhZmVQYWdlLFxuICAgIHBhZ2VTaXplLFxuICAgIHRvdGFsSXRlbXMsXG4gICAgdG90YWxQYWdlcyxcbiAgICBzZWFyY2g6IHNlYXJjaFRlcm0sXG4gICAgcm91dGVySWQsXG4gIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDbGllbnRTdGF0dXMoaWQ6IG51bWJlciwgc3RhdHVzOiBcImFrdGlmXCIgfCBcIm5vbmFrdGlmXCIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PChSb3dEYXRhUGFja2V0ICYgeyB0eXBlOiBzdHJpbmcgfCBudWxsOyBwcm9maWxlOiBzdHJpbmcgfCBudWxsOyBwcm9maWxlX2FzbGk6IHN0cmluZyB8IG51bGwgfSlbXT4oXG4gICAgYFNFTEVDVCB0eXBlLCBwcm9maWxlLCBwcm9maWxlX2FzbGkgRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8gTElNSVQgMWAsXG4gICAgW2lkXSxcbiAgKTtcblxuICBpZiAoIXJvd3MubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IHRpZGFrIGRpdGVtdWthbi5cIik7XG4gIH1cblxuICBjb25zdCByb3cgPSByb3dzWzBdO1xuICBjb25zdCBjdXJyZW50UHJvZmlsZSA9IHJvdy5wcm9maWxlID8/IG51bGw7XG4gIGNvbnN0IHN0b3JlZE9yaWdpbmFsUHJvZmlsZSA9IHJvdy5wcm9maWxlX2FzbGk/LnRyaW0oKSA/IHJvdy5wcm9maWxlX2FzbGkgOiBudWxsO1xuICBjb25zdCB0eXBlID0gcm93LnR5cGU/LnRyaW0oKS50b0xvd2VyQ2FzZSgpID8/IG51bGw7XG5cbiAgaWYgKHN0YXR1cyA9PT0gXCJub25ha3RpZlwiKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxQcm9maWxlID0gc3RvcmVkT3JpZ2luYWxQcm9maWxlID8/IGN1cnJlbnRQcm9maWxlID8/IG51bGw7XG4gICAgYXdhaXQgbXlzcWxQb29sLnF1ZXJ5KFxuICAgICAgYFVQREFURSB1c2Vyc1xuICAgICAgIFNFVFxuICAgICAgICAgc3RhdHVzID0gJ25vbmFrdGlmJyxcbiAgICAgICAgIHByb2ZpbGVfYXNsaSA9IENPQUxFU0NFKE5VTExJRihwcm9maWxlX2FzbGksICcnKSwgPyksXG4gICAgICAgICBwcm9maWxlID0gJ2lzb2xpcicsXG4gICAgICAgICBtYW51YWxfb3ZlcnJpZGUgPSAxLFxuICAgICAgICAgdXBkYXRlZF9hdCA9IE5PVygpXG4gICAgICAgV0hFUkUgaWQgPSA/YCxcbiAgICAgIFtvcmlnaW5hbFByb2ZpbGUsIGlkXSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG5leHRQcm9maWxlID1cbiAgICAgIHR5cGUgPT09IFwicHBwb2VcIlxuICAgICAgICA/IHN0b3JlZE9yaWdpbmFsUHJvZmlsZSA/PyBcIm5vcm1hbFwiXG4gICAgICAgIDogXCJub3JtYWxcIjtcblxuICAgIGF3YWl0IG15c3FsUG9vbC5xdWVyeShcbiAgICAgIGBVUERBVEUgdXNlcnNcbiAgICAgICBTRVRcbiAgICAgICAgIHN0YXR1cyA9ICdha3RpZicsXG4gICAgICAgICBwcm9maWxlID0gPyxcbiAgICAgICAgIG1hbnVhbF9vdmVycmlkZSA9IDEsXG4gICAgICAgICB1cGRhdGVkX2F0ID0gTk9XKClcbiAgICAgICBXSEVSRSBpZCA9ID9gLFxuICAgICAgW25leHRQcm9maWxlLCBpZF0sXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDcmVhdGVDbGllbnRQYXlsb2FkID0ge1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBpcEFkZHJlc3M/OiBzdHJpbmcgfCBudWxsO1xuICB0eXBlPzogc3RyaW5nIHwgbnVsbDtcbiAgc3RhdHVzPzogXCJha3RpZlwiIHwgXCJub25ha3RpZlwiO1xuICBwcm9maWxlPzogc3RyaW5nIHwgbnVsbDtcbiAgY29tbWVudD86IHN0cmluZyB8IG51bGw7XG4gIHJvdXRlcklkPzogbnVtYmVyIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDbGllbnQocGF5bG9hZDogQ3JlYXRlQ2xpZW50UGF5bG9hZCk6IFByb21pc2U8bnVtYmVyPiB7XG4gIGNvbnN0IHVzZXJuYW1lID0gcGF5bG9hZC51c2VybmFtZT8udHJpbSgpID8/IFwiXCI7XG4gIGlmICghdXNlcm5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VybmFtZSB3YWppYiBkaWlzaS5cIik7XG4gIH1cblxuICBjb25zdCBpcEFkZHJlc3MgPSBwYXlsb2FkLmlwQWRkcmVzcz8udHJpbSgpIHx8IG51bGw7XG4gIGNvbnN0IHJhd1R5cGUgPSBwYXlsb2FkLnR5cGU/LnRyaW0oKSB8fCBudWxsO1xuICBjb25zdCB0eXBlID0gcmF3VHlwZSA/IHJhd1R5cGUudG9Mb3dlckNhc2UoKSA6IG51bGw7XG4gIGNvbnN0IHN0YXR1czogXCJha3RpZlwiIHwgXCJub25ha3RpZlwiID0gcGF5bG9hZC5zdGF0dXMgPT09IFwibm9uYWt0aWZcIiA/IFwibm9uYWt0aWZcIiA6IFwiYWt0aWZcIjtcbiAgY29uc3QgY29tbWVudCA9IHBheWxvYWQuY29tbWVudD8udHJpbSgpIHx8IG51bGw7XG5cbiAgY29uc3QgbnVtZXJpY1JvdXRlcklkID1cbiAgICB0eXBlb2YgcGF5bG9hZC5yb3V0ZXJJZCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUocGF5bG9hZC5yb3V0ZXJJZCkgJiYgcGF5bG9hZC5yb3V0ZXJJZCA+IDBcbiAgICAgID8gTWF0aC5mbG9vcihwYXlsb2FkLnJvdXRlcklkKVxuICAgICAgOiBudWxsO1xuXG4gIGNvbnN0IGJhc2VQcm9maWxlID0gcGF5bG9hZC5wcm9maWxlPy50cmltKCkgfHwgKHR5cGUgPT09IFwicHBwb2VcIiA/IFwibm9ybWFsXCIgOiBudWxsKTtcbiAgY29uc3QgcHJvZmlsZSA9IHN0YXR1cyA9PT0gXCJub25ha3RpZlwiID8gXCJpc29saXJcIiA6IGJhc2VQcm9maWxlO1xuICBjb25zdCBwcm9maWxlQXNsaSA9IGJhc2VQcm9maWxlO1xuXG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PG15c3FsLlJlc3VsdFNldEhlYWRlcj4oXG4gICAgYElOU0VSVCBJTlRPIHVzZXJzIChcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgaXBfYWRkcmVzcyxcbiAgICAgIHR5cGUsXG4gICAgICBzdGF0dXMsXG4gICAgICBwcm9maWxlLFxuICAgICAgcHJvZmlsZV9hc2xpLFxuICAgICAgY29tbWVudCxcbiAgICAgIHJvdXRlcl9pZCxcbiAgICAgIG1hbnVhbF9vdmVycmlkZSxcbiAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0XG4gICAgKVxuICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgMSwgTk9XKCksIE5PVygpKWAsXG4gICAgW3VzZXJuYW1lLCBpcEFkZHJlc3MsIHR5cGUsIHN0YXR1cywgcHJvZmlsZSwgcHJvZmlsZUFzbGksIGNvbW1lbnQsIG51bWVyaWNSb3V0ZXJJZF0sXG4gICk7XG5cbiAgcmV0dXJuIHJlc3VsdC5pbnNlcnRJZDtcbn1cblxuZXhwb3J0IHR5cGUgQ3JlYXRlQWt0aXZhc2lDbGllbnRQYXlsb2FkID0ge1xuICBuYW1hUGVsYW5nZ2FuOiBzdHJpbmc7XG4gIG5hbWFMYXlhbmFuOiBzdHJpbmc7XG4gIGthcGFzaXRhc0xheWFuYW46IHN0cmluZztcbiAgdmxhbklkOiBzdHJpbmc7XG4gIG5hbWFNZXRybzogc3RyaW5nO1xuICBzaXRlTWV0cm86IHN0cmluZztcbiAga2FwYXNpdGFzTWV0cm86IHN0cmluZztcbiAgaXBBZGRyZXNzOiBzdHJpbmc7XG4gIGlwR2F0ZXdheTogc3RyaW5nO1xuICByb3V0ZXJHYXRld2F5OiBzdHJpbmc7XG4gIGNyZWF0ZWRCeTogc3RyaW5nO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFrdGl2YXNpQ2xpZW50KHBheWxvYWQ6IENyZWF0ZUFrdGl2YXNpQ2xpZW50UGF5bG9hZCk6IFByb21pc2U8bnVtYmVyPiB7XG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PG15c3FsLlJlc3VsdFNldEhlYWRlcj4oXG4gICAgYElOU0VSVCBJTlRPIGFrdGl2YXNpX2NsaWVudHMgKFxuICAgICAgbmFtYV9wZWxhbmdnYW4sXG4gICAgICBuYW1hX2xheWFuYW4sXG4gICAgICBrYXBhc2l0YXNfbGF5YW5hbixcbiAgICAgIHZsYW5faWQsXG4gICAgICBuYW1hX21ldHJvLFxuICAgICAgc2l0ZV9tZXRybyxcbiAgICAgIGthcGFzaXRhc19tZXRybyxcbiAgICAgIGlwX2FkZHJlc3MsXG4gICAgICBpcF9nYXRld2F5LFxuICAgICAgcm91dGVyX2dhdGV3YXksXG4gICAgICBjcmVhdGVkX2J5LFxuICAgICAgY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXRcbiAgICApXG4gICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCBOT1coKSwgTk9XKCkpYCxcbiAgICBbXG4gICAgICBwYXlsb2FkLm5hbWFQZWxhbmdnYW4udHJpbSgpLFxuICAgICAgcGF5bG9hZC5uYW1hTGF5YW5hbi50cmltKCksXG4gICAgICBwYXlsb2FkLmthcGFzaXRhc0xheWFuYW4udHJpbSgpLFxuICAgICAgcGF5bG9hZC52bGFuSWQudHJpbSgpLFxuICAgICAgcGF5bG9hZC5uYW1hTWV0cm8udHJpbSgpLFxuICAgICAgcGF5bG9hZC5zaXRlTWV0cm8udHJpbSgpLFxuICAgICAgcGF5bG9hZC5rYXBhc2l0YXNNZXRyby50cmltKCksXG4gICAgICBwYXlsb2FkLmlwQWRkcmVzcy50cmltKCksXG4gICAgICBwYXlsb2FkLmlwR2F0ZXdheS50cmltKCksXG4gICAgICBwYXlsb2FkLnJvdXRlckdhdGV3YXkudHJpbSgpLFxuICAgICAgcGF5bG9hZC5jcmVhdGVkQnkudHJpbSgpLFxuICAgIF0sXG4gICk7XG5cbiAgcmV0dXJuIHJlc3VsdC5pbnNlcnRJZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNsaWVudChpZDogbnVtYmVyLCBwYXlsb2FkOiBVcGRhdGVDbGllbnRQYXlsb2FkKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGlkKSB8fCBpZCA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSUQgY2xpZW50IHRpZGFrIHZhbGlkLlwiKTtcbiAgfVxuXG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IG15c3FsUG9vbC5xdWVyeTxcbiAgICBBcnJheTxcbiAgICAgIFJvd0RhdGFQYWNrZXQgJiB7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgICAgIGlwX2FkZHJlc3M6IHN0cmluZyB8IG51bGw7XG4gICAgICAgIHR5cGU6IHN0cmluZyB8IG51bGw7XG4gICAgICAgIHN0YXR1czogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgcHJvZmlsZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgcHJvZmlsZV9hc2xpOiBzdHJpbmcgfCBudWxsO1xuICAgICAgICBjb21tZW50OiBzdHJpbmcgfCBudWxsO1xuICAgICAgICByb3V0ZXJfaWQ6IG51bWJlciB8IG51bGw7XG4gICAgICB9XG4gICAgPlxuICA+KFxuICAgIGBTRUxFQ1QgdXNlcm5hbWUsIGlwX2FkZHJlc3MsIHR5cGUsIHN0YXR1cywgcHJvZmlsZSwgcHJvZmlsZV9hc2xpLCBjb21tZW50LCByb3V0ZXJfaWRcbiAgICAgRlJPTSB1c2Vyc1xuICAgICBXSEVSRSBpZCA9ID9cbiAgICAgTElNSVQgMWAsXG4gICAgW2lkXSxcbiAgKTtcblxuICBpZiAoIXJvd3MubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IHRpZGFrIGRpdGVtdWthbi5cIik7XG4gIH1cblxuICBjb25zdCBleGlzdGluZyA9IHJvd3NbMF07XG5cbiAgY29uc3QgdXNlcm5hbWVSYXcgPSBwYXlsb2FkLnVzZXJuYW1lICE9PSB1bmRlZmluZWQgPyBwYXlsb2FkLnVzZXJuYW1lIDogZXhpc3RpbmcudXNlcm5hbWU7XG4gIGNvbnN0IHVzZXJuYW1lID0gdXNlcm5hbWVSYXc/LnRyaW0oKTtcbiAgaWYgKCF1c2VybmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXJuYW1lIHdhamliIGRpaXNpLlwiKTtcbiAgfVxuXG4gIGNvbnN0IGlwUmF3ID0gcGF5bG9hZC5pcEFkZHJlc3MgIT09IHVuZGVmaW5lZCA/IHBheWxvYWQuaXBBZGRyZXNzIDogZXhpc3RpbmcuaXBfYWRkcmVzcztcbiAgY29uc3QgaXBBZGRyZXNzID0gaXBSYXcgPyBpcFJhdy50cmltKCkgOiBudWxsO1xuXG4gIGNvbnN0IHR5cGVSYXcgPSBwYXlsb2FkLnR5cGUgIT09IHVuZGVmaW5lZCA/IHBheWxvYWQudHlwZSA6IGV4aXN0aW5nLnR5cGU7XG4gIGNvbnN0IHR5cGUgPSB0eXBlUmF3ID8gdHlwZVJhdy50cmltKCkudG9Mb3dlckNhc2UoKSB8fCBudWxsIDogbnVsbDtcblxuICBjb25zdCBjb21tZW50UmF3ID0gcGF5bG9hZC5jb21tZW50ICE9PSB1bmRlZmluZWQgPyBwYXlsb2FkLmNvbW1lbnQgOiBleGlzdGluZy5jb21tZW50O1xuICBjb25zdCBjb21tZW50ID0gY29tbWVudFJhdyA/IGNvbW1lbnRSYXcudHJpbSgpIDogbnVsbDtcblxuICBjb25zdCByb3V0ZXJWYWx1ZSA9IHBheWxvYWQucm91dGVySWQgIT09IHVuZGVmaW5lZCA/IHBheWxvYWQucm91dGVySWQgOiBleGlzdGluZy5yb3V0ZXJfaWQ7XG4gIGNvbnN0IHJvdXRlcklkID1cbiAgICB0eXBlb2Ygcm91dGVyVmFsdWUgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHJvdXRlclZhbHVlKSAmJiByb3V0ZXJWYWx1ZSA+IDBcbiAgICAgID8gTWF0aC5mbG9vcihyb3V0ZXJWYWx1ZSlcbiAgICAgIDogbnVsbDtcblxuICBjb25zdCBzdGF0dXNJbnB1dCA9IHBheWxvYWQuc3RhdHVzID8/IChleGlzdGluZy5zdGF0dXMgPT09IFwibm9uYWt0aWZcIiA/IFwibm9uYWt0aWZcIiA6IFwiYWt0aWZcIik7XG4gIGNvbnN0IHN0YXR1czogXCJha3RpZlwiIHwgXCJub25ha3RpZlwiID0gc3RhdHVzSW5wdXQgPT09IFwibm9uYWt0aWZcIiA/IFwibm9uYWt0aWZcIiA6IFwiYWt0aWZcIjtcblxuICBjb25zdCBwcm9maWxlSW5wdXRSYXcgPSBwYXlsb2FkLnByb2ZpbGUgIT09IHVuZGVmaW5lZCA/IHBheWxvYWQucHJvZmlsZSA6IG51bGw7XG4gIGNvbnN0IHByb2ZpbGVJbnB1dCA9IHByb2ZpbGVJbnB1dFJhdyA/IHByb2ZpbGVJbnB1dFJhdy50cmltKCkgOiBudWxsO1xuXG4gIGNvbnN0IGV4aXN0aW5nUHJvZmlsZSA9IGV4aXN0aW5nLnByb2ZpbGU/LnRyaW0oKSB8fCBudWxsO1xuICBjb25zdCBleGlzdGluZ1Byb2ZpbGVBc2xpID0gZXhpc3RpbmcucHJvZmlsZV9hc2xpPy50cmltKCkgfHwgbnVsbDtcblxuICBsZXQgcHJvZmlsZTogc3RyaW5nIHwgbnVsbCA9IGV4aXN0aW5nUHJvZmlsZTtcbiAgbGV0IHByb2ZpbGVBc2xpOiBzdHJpbmcgfCBudWxsID0gZXhpc3RpbmdQcm9maWxlQXNsaTtcblxuICBpZiAoc3RhdHVzID09PSBcIm5vbmFrdGlmXCIpIHtcbiAgICBjb25zdCBvcmlnaW5hbFByb2ZpbGUgPVxuICAgICAgcHJvZmlsZUlucHV0ID8/XG4gICAgICBwcm9maWxlQXNsaSA/P1xuICAgICAgZXhpc3RpbmdQcm9maWxlID8/XG4gICAgICAodHlwZSA9PT0gXCJwcHBvZVwiID8gXCJub3JtYWxcIiA6IG51bGwpO1xuICAgIHByb2ZpbGVBc2xpID0gb3JpZ2luYWxQcm9maWxlO1xuICAgIHByb2ZpbGUgPSBcImlzb2xpclwiO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJhc2VQcm9maWxlID1cbiAgICAgIHByb2ZpbGVJbnB1dCA/P1xuICAgICAgcHJvZmlsZUFzbGkgPz9cbiAgICAgIChleGlzdGluZ1Byb2ZpbGUgIT09IFwiaXNvbGlyXCIgPyBleGlzdGluZ1Byb2ZpbGUgOiBudWxsKSA/P1xuICAgICAgKHR5cGUgPT09IFwicHBwb2VcIiA/IFwibm9ybWFsXCIgOiBudWxsKTtcbiAgICBwcm9maWxlQXNsaSA9IGJhc2VQcm9maWxlO1xuICAgIHByb2ZpbGUgPSBiYXNlUHJvZmlsZTtcbiAgfVxuXG4gIGF3YWl0IG15c3FsUG9vbC5xdWVyeShcbiAgICBgVVBEQVRFIHVzZXJzXG4gICAgIFNFVFxuICAgICAgIHVzZXJuYW1lID0gPyxcbiAgICAgICBpcF9hZGRyZXNzID0gPyxcbiAgICAgICB0eXBlID0gPyxcbiAgICAgICBzdGF0dXMgPSA/LFxuICAgICAgIHByb2ZpbGUgPSA/LFxuICAgICAgIHByb2ZpbGVfYXNsaSA9ID8sXG4gICAgICAgY29tbWVudCA9ID8sXG4gICAgICAgcm91dGVyX2lkID0gPyxcbiAgICAgICBtYW51YWxfb3ZlcnJpZGUgPSAxLFxuICAgICAgIHVwZGF0ZWRfYXQgPSBOT1coKVxuICAgICBXSEVSRSBpZCA9ID9gLFxuICAgIFt1c2VybmFtZSwgaXBBZGRyZXNzLCB0eXBlLCBzdGF0dXMsIHByb2ZpbGUsIHByb2ZpbGVBc2xpLCBjb21tZW50LCByb3V0ZXJJZCwgaWRdLFxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ2xpZW50KGlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaWQpIHx8IGlkIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJRCBjbGllbnQgdGlkYWsgdmFsaWQuXCIpO1xuICB9XG5cbiAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBteXNxbFBvb2wucXVlcnk8bXlzcWwuUmVzdWx0U2V0SGVhZGVyPihcIkRFTEVURSBGUk9NIHVzZXJzIFdIRVJFIGlkID0gP1wiLCBbaWRdKTtcbiAgaWYgKHJlc3VsdC5hZmZlY3RlZFJvd3MgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgdGlkYWsgZGl0ZW11a2FuLlwiKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHRpbWluZ1NhZmVDb21wYXJlKGE6IHN0cmluZywgYjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGJ1ZkEgPSBCdWZmZXIuZnJvbShhIHx8IFwiXCIpXG4gIGNvbnN0IGJ1ZkIgPSBCdWZmZXIuZnJvbShiIHx8IFwiXCIpXG4gIGlmIChidWZBLmxlbmd0aCA9PT0gYnVmQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gY3J5cHRvLnRpbWluZ1NhZmVFcXVhbChidWZBLCBidWZCKVxuICB9XG4gIGNvbnN0IGxlbiA9IE1hdGgubWF4KGJ1ZkEubGVuZ3RoLCBidWZCLmxlbmd0aClcbiAgY29uc3QgcGFkZGVkQSA9IEJ1ZmZlci5hbGxvYyhsZW4pXG4gIGNvbnN0IHBhZGRlZEIgPSBCdWZmZXIuYWxsb2MobGVuKVxuICBidWZBLmNvcHkocGFkZGVkQSlcbiAgYnVmQi5jb3B5KHBhZGRlZEIpXG4gIHJldHVybiBjcnlwdG8udGltaW5nU2FmZUVxdWFsKHBhZGRlZEEsIHBhZGRlZEIpICYmIGEgPT09IGJcbn1cblxuZnVuY3Rpb24gaGFzaFdpdGhBbGdvcml0aG0oYWxnb3JpdGhtOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKS51cGRhdGUodmFsdWUpLmRpZ2VzdChcImhleFwiKVxufVxuXG5leHBvcnQgdHlwZSBSb3V0ZXJSb3cgPSBSb3dEYXRhUGFja2V0ICYge1xuICBpZDogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSb3V0ZXJzKCk6IFByb21pc2U8Um91dGVyUm93W10+IHtcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PFJvdXRlclJvd1tdPihcbiAgICBcIlNFTEVDVCBpZCwgbmFtZSBGUk9NIHJvdXRlcnMgT1JERVIgQlkgbmFtZSBBU0NcIixcbiAgKTtcbiAgcmV0dXJuIHJvd3M7XG59XG5cbnR5cGUgQWNjZXNzUG9pbnRQYXlsb2FkID0ge1xuICBzc2lkOiBzdHJpbmc7XG4gIGJ0c05hbWU6IHN0cmluZztcbiAgaXBBZGRyZXNzOiBzdHJpbmcgfCBudWxsO1xuICBkZXZpY2U6IHN0cmluZyB8IG51bGw7XG4gIHVzZXJuYW1lOiBzdHJpbmcgfCBudWxsO1xuICBwYXNzd29yZDogc3RyaW5nIHwgbnVsbDtcbiAgc2VjdXJpdHk6IHN0cmluZyB8IG51bGw7XG4gIHBocmFzZUtleTogc3RyaW5nIHwgbnVsbDtcbiAgZnJlcXVlbmN5OiBzdHJpbmcgfCBudWxsO1xuICBjaGFubmVsV2lkdGg6IHN0cmluZyB8IG51bGw7XG4gIG1hY0FkZHJlc3M6IHN0cmluZyB8IG51bGw7XG4gIHJvdXRlcklkOiBudW1iZXIgfCBudWxsO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFjY2Vzc1BvaW50KHBheWxvYWQ6IEFjY2Vzc1BvaW50UGF5bG9hZCk6IFByb21pc2U8bnVtYmVyPiB7XG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgbXlzcWxQb29sLnF1ZXJ5PG15c3FsLlJlc3VsdFNldEhlYWRlcj4oXG4gICAgYElOU0VSVCBJTlRPIGFjY2Vzc19wb2ludHMgKFxuICAgICAgc3NpZCxcbiAgICAgIGJ0c19uYW1lLFxuICAgICAgaXBfYWRkcmVzcyxcbiAgICAgIGRldmljZSxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBzZWN1cml0eSxcbiAgICAgIHBocmFzZV9rZXksXG4gICAgICBmcmVxdWVuY3ksXG4gICAgICBjaGFubmVsX3dpZHRoLFxuICAgICAgbWFjX2FkZHJlc3MsXG4gICAgICByb3V0ZXJfaWQsXG4gICAgICBjcmVhdGVkX2F0XG4gICAgKVxuICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgTk9XKCkpYCxcbiAgICBbXG4gICAgICBwYXlsb2FkLnNzaWQsXG4gICAgICBwYXlsb2FkLmJ0c05hbWUsXG4gICAgICBwYXlsb2FkLmlwQWRkcmVzcyxcbiAgICAgIHBheWxvYWQuZGV2aWNlLFxuICAgICAgcGF5bG9hZC51c2VybmFtZSxcbiAgICAgIHBheWxvYWQucGFzc3dvcmQsXG4gICAgICBwYXlsb2FkLnNlY3VyaXR5LFxuICAgICAgcGF5bG9hZC5waHJhc2VLZXksXG4gICAgICBwYXlsb2FkLmZyZXF1ZW5jeSxcbiAgICAgIHBheWxvYWQuY2hhbm5lbFdpZHRoLFxuICAgICAgcGF5bG9hZC5tYWNBZGRyZXNzLFxuICAgICAgcGF5bG9hZC5yb3V0ZXJJZCxcbiAgICBdLFxuICApXG5cbiAgcmV0dXJuIHJlc3VsdC5pbnNlcnRJZFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQWNjZXNzUG9pbnQoaWQ6IG51bWJlciwgcGF5bG9hZDogQWNjZXNzUG9pbnRQYXlsb2FkKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IG15c3FsUG9vbC5xdWVyeShcbiAgICBgVVBEQVRFIGFjY2Vzc19wb2ludHNcbiAgICAgU0VUIHNzaWQgPSA/LCBidHNfbmFtZSA9ID8sIGlwX2FkZHJlc3MgPSA/LCBkZXZpY2UgPSA/LCB1c2VybmFtZSA9ID8sIHBhc3N3b3JkID0gPywgc2VjdXJpdHkgPSA/LCBwaHJhc2Vfa2V5ID0gPywgZnJlcXVlbmN5ID0gPywgY2hhbm5lbF93aWR0aCA9ID8sIG1hY19hZGRyZXNzID0gPywgcm91dGVyX2lkID0gP1xuICAgICBXSEVSRSBpZCA9ID9gLFxuICAgIFtcbiAgICAgIHBheWxvYWQuc3NpZCxcbiAgICAgIHBheWxvYWQuYnRzTmFtZSxcbiAgICAgIHBheWxvYWQuaXBBZGRyZXNzLFxuICAgICAgcGF5bG9hZC5kZXZpY2UsXG4gICAgICBwYXlsb2FkLnVzZXJuYW1lLFxuICAgICAgcGF5bG9hZC5wYXNzd29yZCxcbiAgICAgIHBheWxvYWQuc2VjdXJpdHksXG4gICAgICBwYXlsb2FkLnBocmFzZUtleSxcbiAgICAgIHBheWxvYWQuZnJlcXVlbmN5LFxuICAgICAgcGF5bG9hZC5jaGFubmVsV2lkdGgsXG4gICAgICBwYXlsb2FkLm1hY0FkZHJlc3MsXG4gICAgICBwYXlsb2FkLnJvdXRlcklkLFxuICAgICAgaWQsXG4gICAgXSxcbiAgKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQWNjZXNzUG9pbnQoaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBteXNxbFBvb2wucXVlcnkoXCJERUxFVEUgRlJPTSBhY2Nlc3NfcG9pbnRzIFdIRVJFIGlkID0gP1wiLCBbaWRdKVxufVxuIl0sIm5hbWVzIjpbImNyeXB0byIsIm15c3FsIiwiY29uZmlnIiwiaG9zdCIsImRhdGFiYXNlIiwidXNlciIsInBhc3N3b3JkIiwiY2hhcnNldCIsIndhaXRGb3JDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25MaW1pdCIsIm5hbWVkUGxhY2Vob2xkZXJzIiwiZ2xvYmFsRm9yUG9vbCIsImdsb2JhbFRoaXMiLCJteXNxbFBvb2wiLCJfX215c3FsUG9vbCIsImNyZWF0ZVBvb2wiLCJkZWNpbWFsTnVtYmVycyIsImZldGNoQWNjZXNzUG9pbnRzIiwicm93cyIsInF1ZXJ5IiwiV0lCX1RJTUVaT05FIiwiT05FX0RBWV9NUyIsImZvcm1hdERhdGVUb015U1FMIiwidGltZXpvbmUiLCJkYXRlIiwiRGF0ZSIsImZvcm1hdHRlciIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInRpbWVab25lIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsImhvdXIxMiIsInBhcnRzIiwiZm9ybWF0VG9QYXJ0cyIsInJlZHVjZSIsImFjYyIsInBhcnQiLCJ0eXBlIiwidmFsdWUiLCJwYWRTdGFydCIsImZldGNoUGVuZGluZ0l0ZW1zIiwibm93IiwidGhyZXNob2xkRGF0ZSIsImdldFRpbWUiLCJ0aHJlc2hvbGQiLCJjcmVhdGVQZW5kaW5nSXRlbSIsInBheWxvYWQiLCJjcmVhdGVkQXQiLCJyZXN1bHQiLCJjdXN0b21lck5hbWUiLCJkZXNjcmlwdGlvbiIsImFkZHJlc3MiLCJrYWJ1cGF0ZW4iLCJpbnNlcnRJZCIsImRlbGV0ZVBlbmRpbmdJdGVtIiwiaWQiLCJ2ZXJpZnlBZG1pbkNyZWRlbnRpYWxzIiwidXNlcm5hbWUiLCJsZW5ndGgiLCJzdG9yZWQiLCJjYW5kaWRhdGVzIiwidGVzdCIsInB1c2giLCJoYXNoV2l0aEFsZ29yaXRobSIsImlzTWF0Y2giLCJzb21lIiwiY2FuZGlkYXRlIiwidGltaW5nU2FmZUNvbXBhcmUiLCJERUZBVUxUX0NMSUVOVF9QQUdFX1NJWkUiLCJNQVhfQ0xJRU5UX1BBR0VfU0laRSIsImZldGNoQ2xpZW50cyIsIm9wdGlvbnMiLCJyYXdQYWdlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJwYWdlIiwicmF3UGFnZVNpemUiLCJwYWdlU2l6ZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJmbG9vciIsInNlYXJjaFRlcm0iLCJzZWFyY2giLCJ0cmltIiwicmF3Um91dGVySWQiLCJyb3V0ZXJJZCIsImxpa2VUZXJtIiwicmVwbGFjZSIsInNlYXJjaFBhcmFtcyIsIndoZXJlUGFydHMiLCJ3aGVyZVBhcmFtcyIsIndoZXJlQ2xhdXNlIiwiam9pbiIsImNvdW50Um93cyIsInRvdGFsSXRlbXMiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJjZWlsIiwic2FmZVBhZ2UiLCJvZmZzZXQiLCJpdGVtcyIsInVwZGF0ZUNsaWVudFN0YXR1cyIsInN0YXR1cyIsIkVycm9yIiwicm93IiwiY3VycmVudFByb2ZpbGUiLCJwcm9maWxlIiwic3RvcmVkT3JpZ2luYWxQcm9maWxlIiwicHJvZmlsZV9hc2xpIiwidG9Mb3dlckNhc2UiLCJvcmlnaW5hbFByb2ZpbGUiLCJuZXh0UHJvZmlsZSIsImNyZWF0ZUNsaWVudCIsImlwQWRkcmVzcyIsInJhd1R5cGUiLCJjb21tZW50IiwibnVtZXJpY1JvdXRlcklkIiwiYmFzZVByb2ZpbGUiLCJwcm9maWxlQXNsaSIsImNyZWF0ZUFrdGl2YXNpQ2xpZW50IiwibmFtYVBlbGFuZ2dhbiIsIm5hbWFMYXlhbmFuIiwia2FwYXNpdGFzTGF5YW5hbiIsInZsYW5JZCIsIm5hbWFNZXRybyIsInNpdGVNZXRybyIsImthcGFzaXRhc01ldHJvIiwiaXBHYXRld2F5Iiwicm91dGVyR2F0ZXdheSIsImNyZWF0ZWRCeSIsInVwZGF0ZUNsaWVudCIsImV4aXN0aW5nIiwidXNlcm5hbWVSYXciLCJ1bmRlZmluZWQiLCJpcFJhdyIsImlwX2FkZHJlc3MiLCJ0eXBlUmF3IiwiY29tbWVudFJhdyIsInJvdXRlclZhbHVlIiwicm91dGVyX2lkIiwic3RhdHVzSW5wdXQiLCJwcm9maWxlSW5wdXRSYXciLCJwcm9maWxlSW5wdXQiLCJleGlzdGluZ1Byb2ZpbGUiLCJleGlzdGluZ1Byb2ZpbGVBc2xpIiwiZGVsZXRlQ2xpZW50IiwiYWZmZWN0ZWRSb3dzIiwiYSIsImIiLCJidWZBIiwiQnVmZmVyIiwiZnJvbSIsImJ1ZkIiLCJ0aW1pbmdTYWZlRXF1YWwiLCJsZW4iLCJwYWRkZWRBIiwiYWxsb2MiLCJwYWRkZWRCIiwiY29weSIsImFsZ29yaXRobSIsImNyZWF0ZUhhc2giLCJ1cGRhdGUiLCJkaWdlc3QiLCJmZXRjaFJvdXRlcnMiLCJjcmVhdGVBY2Nlc3NQb2ludCIsInNzaWQiLCJidHNOYW1lIiwiZGV2aWNlIiwic2VjdXJpdHkiLCJwaHJhc2VLZXkiLCJmcmVxdWVuY3kiLCJjaGFubmVsV2lkdGgiLCJtYWNBZGRyZXNzIiwidXBkYXRlQWNjZXNzUG9pbnQiLCJkZWxldGVBY2Nlc3NQb2ludCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/iconv-lite","vendor-chunks/aws-ssl-profiles","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/named-placeholders","vendor-chunks/long","vendor-chunks/safer-buffer","vendor-chunks/lru.min","vendor-chunks/is-property","vendor-chunks/generate-function","vendor-chunks/denque"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpending%2Froute&page=%2Fapi%2Fpending%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpending%2Froute.ts&appDir=%2Froot%2Fisolir4%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Froot%2Fisolir4&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();