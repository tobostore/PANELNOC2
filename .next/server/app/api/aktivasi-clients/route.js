"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/aktivasi-clients/route";
exports.ids = ["app/api/aktivasi-clients/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faktivasi-clients%2Froute&page=%2Fapi%2Faktivasi-clients%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faktivasi-clients%2Froute.ts&appDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faktivasi-clients%2Froute&page=%2Fapi%2Faktivasi-clients%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faktivasi-clients%2Froute.ts&appDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Tri_Hartanto_Downloads_GABUTAN_MASS_HARR_ISOLIR_PANELNOC2_app_api_aktivasi_clients_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/aktivasi-clients/route.ts */ \"(rsc)/./app/api/aktivasi-clients/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/aktivasi-clients/route\",\n        pathname: \"/api/aktivasi-clients\",\n        filename: \"route\",\n        bundlePath: \"app/api/aktivasi-clients/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Tri Hartanto\\\\Downloads\\\\GABUTAN MASS HARR\\\\ISOLIR\\\\PANELNOC2\\\\app\\\\api\\\\aktivasi-clients\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Tri_Hartanto_Downloads_GABUTAN_MASS_HARR_ISOLIR_PANELNOC2_app_api_aktivasi_clients_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/aktivasi-clients/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZha3RpdmFzaS1jbGllbnRzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZha3RpdmFzaS1jbGllbnRzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWt0aXZhc2ktY2xpZW50cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNUcmklMjBIYXJ0YW50byU1Q0Rvd25sb2FkcyU1Q0dBQlVUQU4lMjBNQVNTJTIwSEFSUiU1Q0lTT0xJUiU1Q1BBTkVMTk9DMiU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDVHJpJTIwSGFydGFudG8lNUNEb3dubG9hZHMlNUNHQUJVVEFOJTIwTUFTUyUyMEhBUlIlNUNJU09MSVIlNUNQQU5FTE5PQzImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzhEO0FBQzNJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFuZWwtbm9jLz8zMzY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXFRyaSBIYXJ0YW50b1xcXFxEb3dubG9hZHNcXFxcR0FCVVRBTiBNQVNTIEhBUlJcXFxcSVNPTElSXFxcXFBBTkVMTk9DMlxcXFxhcHBcXFxcYXBpXFxcXGFrdGl2YXNpLWNsaWVudHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FrdGl2YXNpLWNsaWVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ha3RpdmFzaS1jbGllbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ha3RpdmFzaS1jbGllbnRzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcVHJpIEhhcnRhbnRvXFxcXERvd25sb2Fkc1xcXFxHQUJVVEFOIE1BU1MgSEFSUlxcXFxJU09MSVJcXFxcUEFORUxOT0MyXFxcXGFwcFxcXFxhcGlcXFxcYWt0aXZhc2ktY2xpZW50c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWt0aXZhc2ktY2xpZW50cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faktivasi-clients%2Froute&page=%2Fapi%2Faktivasi-clients%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faktivasi-clients%2Froute.ts&appDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/aktivasi-clients/route.ts":
/*!*******************************************!*\
  !*** ./app/api/aktivasi-clients/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\nconst REMOTE_AKTIVASI_CLIENT_API = \"http://10.20.25.8:8000/api/v1/aktivasi-clients\";\nconst CAMEL_TO_SNAKE_MAP = {\n    namaPelanggan: \"nama_pelanggan\",\n    namaLayanan: \"nama_layanan\",\n    kapasitasLayanan: \"kapasitas_layanan\",\n    vlanId: \"vlan_id\",\n    namaMetro: \"nama_metro\",\n    siteMetro: \"site_metro\",\n    kapasitasMetro: \"kapasitas_metro\",\n    ipAddress: \"ip_address\",\n    ipGateway: \"ip_gateway\",\n    routerGateway: \"router_gateway\"\n};\nfunction normalizeItem(item) {\n    if (!item || typeof item !== \"object\") {\n        return null;\n    }\n    const record = item;\n    const idRaw = record.id ?? record.ID ?? record.Id;\n    const id = typeof idRaw === \"number\" ? idRaw : Number(idRaw);\n    const get = (key)=>typeof record[key] === \"string\" ? record[key].trim() : null;\n    return {\n        id: Number.isFinite(id) ? Number(id) : null,\n        namaPelanggan: get(\"nama_pelanggan\") ?? \"-\",\n        namaLayanan: get(\"nama_layanan\") ?? \"-\",\n        kapasitasLayanan: get(\"kapasitas_layanan\") ?? \"-\",\n        vlanId: get(\"vlan_id\") ?? \"-\",\n        namaMetro: get(\"nama_metro\") ?? \"-\",\n        siteMetro: get(\"site_metro\") ?? \"-\",\n        kapasitasMetro: get(\"kapasitas_metro\") ?? \"-\",\n        ipAddress: get(\"ip_address\") ?? \"-\",\n        ipGateway: get(\"ip_gateway\") ?? \"-\",\n        routerGateway: get(\"router_gateway\") ?? \"-\",\n        createdBy: get(\"created_by\"),\n        createdAt: get(\"created_at\"),\n        updatedAt: get(\"updated_at\")\n    };\n}\nfunction toApiResponse(items) {\n    return {\n        status: \"ok\",\n        items\n    };\n}\nfunction sanitize(body) {\n    const result = {};\n    for(const camelKey in CAMEL_TO_SNAKE_MAP){\n        const value = body[camelKey];\n        if (typeof value !== \"string\" || !value.trim()) {\n            throw new Error(`Field ${camelKey} wajib diisi.`);\n        }\n        result[CAMEL_TO_SNAKE_MAP[camelKey]] = value.trim();\n    }\n    return result;\n}\nasync function fetchAllItems() {\n    const response = await fetch(REMOTE_AKTIVASI_CLIENT_API, {\n        cache: \"no-store\"\n    });\n    if (!response.ok) {\n        console.error(\"[api/aktivasi-clients] failed to fetch all items, remote API error\", {\n            status: response.status\n        });\n        throw new Error(`API mengembalikan status ${response.status}`);\n    }\n    const payload = await response.json();\n    const dataArray = Array.isArray(payload) ? payload : Array.isArray(payload.data) ? payload.data : [];\n    return dataArray.map((item)=>normalizeItem(item)).filter((item)=>item !== null);\n}\nasync function GET() {\n    try {\n        const items = await fetchAllItems();\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json(toApiResponse(items), {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"[api/aktivasi-clients] failed to fetch data\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            status: \"error\",\n            message: \"Gagal mengambil data aktivasi reseller.\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const payload = sanitize(body);\n        const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.AUTH_COOKIE_NAME)?.value ?? null;\n        const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.verifyAuthToken)(token);\n        if (!auth) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                status: \"error\",\n                message: \"Anda belum login.\"\n            }, {\n                status: 401\n            });\n        }\n        const requestPayload = {\n            ...payload,\n            created_by: auth.username\n        };\n        const response = await fetch(REMOTE_AKTIVASI_CLIENT_API, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(requestPayload)\n        });\n        if (!response.ok) {\n            const errorPayload = await response.json().catch(()=>null);\n            const message = typeof errorPayload?.message === \"string\" && errorPayload.message.trim().length > 0 ? errorPayload.message : `API mengembalikan status ${response.status}`;\n            throw new Error(message);\n        }\n        const result = await response.json().catch(()=>({\n                status: \"ok\"\n            }));\n        const items = await fetchAllItems();\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            ...toApiResponse(items),\n            message: result?.message ?? \"Aktivasi reseller berhasil disimpan.\"\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"[api/aktivasi-clients] failed to create\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            status: \"error\",\n            message: error instanceof Error ? error.message : \"Gagal menyimpan data aktivasi reseller.\"\n        }, {\n            status: 400\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const body = await request.json();\n        const { id, ...data } = body;\n        if (!id) {\n            throw new Error(\"ID aktivasi tidak valid atau tidak tersedia.\");\n        }\n        const payload = sanitize(data);\n        const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.AUTH_COOKIE_NAME)?.value ?? null;\n        const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.verifyAuthToken)(token);\n        if (!auth) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                status: \"error\",\n                message: \"Anda belum login.\"\n            }, {\n                status: 401\n            });\n        }\n        const response = await fetch(`${REMOTE_AKTIVASI_CLIENT_API}/${id}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n            const errorPayload = await response.json().catch(()=>null);\n            const message = typeof errorPayload?.message === \"string\" && errorPayload.message.trim().length > 0 ? errorPayload.message : `API mengembalikan status ${response.status}`;\n            throw new Error(message);\n        }\n        const result = await response.json().catch(()=>({\n                status: \"ok\"\n            }));\n        const items = await fetchAllItems();\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            ...toApiResponse(items),\n            message: result?.message ?? \"Aktivasi reseller berhasil diperbarui.\"\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"[api/aktivasi-clients] failed to update\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            status: \"error\",\n            message: error instanceof Error ? error.message : \"Gagal memperbarui data aktivasi reseller.\"\n        }, {\n            status: 400\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get(\"id\");\n        if (!id) {\n            throw new Error(\"ID aktivasi tidak ditemukan.\");\n        }\n        const token = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.AUTH_COOKIE_NAME)?.value ?? null;\n        const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.verifyAuthToken)(token);\n        if (!auth) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                status: \"error\",\n                message: \"Anda belum login.\"\n            }, {\n                status: 401\n            });\n        }\n        const response = await fetch(`${REMOTE_AKTIVASI_CLIENT_API}/${id}`, {\n            method: \"DELETE\"\n        });\n        if (!response.ok) {\n            const errorPayload = await response.json().catch(()=>null);\n            const message = typeof errorPayload?.message === \"string\" && errorPayload.message.trim().length > 0 ? errorPayload.message : `API mengembalikan status ${response.status}`;\n            throw new Error(message);\n        }\n        const result = await response.json().catch(()=>({\n                status: \"ok\"\n            }));\n        const items = await fetchAllItems();\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            ...toApiResponse(items),\n            message: result?.message ?? \"Aktivasi reseller berhasil dihapus.\"\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"[api/aktivasi-clients] failed to delete\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            status: \"error\",\n            message: error instanceof Error ? error.message : \"Gagal menghapus data aktivasi reseller.\"\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FrdGl2YXNpLWNsaWVudHMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzQztBQUNJO0FBRW9CO0FBRTlELE1BQU1JLDZCQUE2QjtBQUVuQyxNQUFNQyxxQkFBNkM7SUFDakRDLGVBQWU7SUFDZkMsYUFBYTtJQUNiQyxrQkFBa0I7SUFDbEJDLFFBQVE7SUFDUkMsV0FBVztJQUNYQyxXQUFXO0lBQ1hDLGdCQUFnQjtJQUNoQkMsV0FBVztJQUNYQyxXQUFXO0lBQ1hDLGVBQWU7QUFDakI7QUFxQkEsU0FBU0MsY0FBY0MsSUFBYTtJQUNsQyxJQUFJLENBQUNBLFFBQVEsT0FBT0EsU0FBUyxVQUFVO1FBQ3JDLE9BQU87SUFDVDtJQUNBLE1BQU1DLFNBQVNEO0lBQ2YsTUFBTUUsUUFBUUQsT0FBT0UsRUFBRSxJQUFJRixPQUFPRyxFQUFFLElBQUlILE9BQU9JLEVBQUU7SUFDakQsTUFBTUYsS0FBSyxPQUFPRCxVQUFVLFdBQVdBLFFBQVFJLE9BQU9KO0lBRXRELE1BQU1LLE1BQU0sQ0FBQ0MsTUFBaUIsT0FBT1AsTUFBTSxDQUFDTyxJQUFJLEtBQUssV0FBVyxNQUFPLENBQUNBLElBQUksQ0FBWUMsSUFBSSxLQUFLO0lBRWpHLE9BQU87UUFDTE4sSUFBSUcsT0FBT0ksUUFBUSxDQUFDUCxNQUFNRyxPQUFPSCxNQUFNO1FBQ3ZDZCxlQUFla0IsSUFBSSxxQkFBcUI7UUFDeENqQixhQUFhaUIsSUFBSSxtQkFBbUI7UUFDcENoQixrQkFBa0JnQixJQUFJLHdCQUF3QjtRQUM5Q2YsUUFBUWUsSUFBSSxjQUFjO1FBQzFCZCxXQUFXYyxJQUFJLGlCQUFpQjtRQUNoQ2IsV0FBV2EsSUFBSSxpQkFBaUI7UUFDaENaLGdCQUFnQlksSUFBSSxzQkFBc0I7UUFDMUNYLFdBQVdXLElBQUksaUJBQWlCO1FBQ2hDVixXQUFXVSxJQUFJLGlCQUFpQjtRQUNoQ1QsZUFBZVMsSUFBSSxxQkFBcUI7UUFDeENJLFdBQVdKLElBQUk7UUFDZkssV0FB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QTtRQUN6RCxPQUFPN0MscURBQVlBLENBQUMrQyxJQUFJLENBQ3RCO1lBQ0VmLFFBQVE7WUFDUnVCLFNBQVNWLGlCQUFpQlAsUUFBUU8sTUFBTVUsT0FBTyxHQUFHO1FBQ3BELEdBQ0E7WUFBRXZCLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFuZWwtbm9jLy4vYXBwL2FwaS9ha3RpdmFzaS1jbGllbnRzL3JvdXRlLnRzP2VmYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIlxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCJcblxuaW1wb3J0IHsgQVVUSF9DT09LSUVfTkFNRSwgdmVyaWZ5QXV0aFRva2VuIH0gZnJvbSBcIkAvbGliL2F1dGhcIlxuXG5jb25zdCBSRU1PVEVfQUtUSVZBU0lfQ0xJRU5UX0FQSSA9IFwiaHR0cDovLzEwLjIwLjI1Ljg6ODAwMC9hcGkvdjEvYWt0aXZhc2ktY2xpZW50c1wiXG5cbmNvbnN0IENBTUVMX1RPX1NOQUtFX01BUDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgbmFtYVBlbGFuZ2dhbjogXCJuYW1hX3BlbGFuZ2dhblwiLFxuICBuYW1hTGF5YW5hbjogXCJuYW1hX2xheWFuYW5cIixcbiAga2FwYXNpdGFzTGF5YW5hbjogXCJrYXBhc2l0YXNfbGF5YW5hblwiLFxuICB2bGFuSWQ6IFwidmxhbl9pZFwiLFxuICBuYW1hTWV0cm86IFwibmFtYV9tZXRyb1wiLFxuICBzaXRlTWV0cm86IFwic2l0ZV9tZXRyb1wiLFxuICBrYXBhc2l0YXNNZXRybzogXCJrYXBhc2l0YXNfbWV0cm9cIixcbiAgaXBBZGRyZXNzOiBcImlwX2FkZHJlc3NcIixcbiAgaXBHYXRld2F5OiBcImlwX2dhdGV3YXlcIixcbiAgcm91dGVyR2F0ZXdheTogXCJyb3V0ZXJfZ2F0ZXdheVwiLFxufSBhcyBjb25zdFxuXG50eXBlIFJlbW90ZUFrdGl2YXNpUGF5bG9hZCA9IFJlY29yZDwodHlwZW9mIENBTUVMX1RPX1NOQUtFX01BUClba2V5b2YgdHlwZW9mIENBTUVMX1RPX1NOQUtFX01BUF0sIHN0cmluZz5cblxudHlwZSBBa3RpdmFzaUNsaWVudEl0ZW0gPSB7XG4gIGlkOiBudW1iZXIgfCBudWxsXG4gIG5hbWFQZWxhbmdnYW46IHN0cmluZ1xuICBuYW1hTGF5YW5hbjogc3RyaW5nXG4gIGthcGFzaXRhc0xheWFuYW46IHN0cmluZ1xuICB2bGFuSWQ6IHN0cmluZ1xuICBuYW1hTWV0cm86IHN0cmluZ1xuICBzaXRlTWV0cm86IHN0cmluZ1xuICBrYXBhc2l0YXNNZXRybzogc3RyaW5nXG4gIGlwQWRkcmVzczogc3RyaW5nXG4gIGlwR2F0ZXdheTogc3RyaW5nXG4gIHJvdXRlckdhdGV3YXk6IHN0cmluZ1xuICBjcmVhdGVkQnk6IHN0cmluZyB8IG51bGxcbiAgY3JlYXRlZEF0OiBzdHJpbmcgfCBudWxsXG4gIHVwZGF0ZWRBdDogc3RyaW5nIHwgbnVsbFxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVJdGVtKGl0ZW06IHVua25vd24pOiBBa3RpdmFzaUNsaWVudEl0ZW0gfCBudWxsIHtcbiAgaWYgKCFpdGVtIHx8IHR5cGVvZiBpdGVtICE9PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBjb25zdCByZWNvcmQgPSBpdGVtIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gIGNvbnN0IGlkUmF3ID0gcmVjb3JkLmlkID8/IHJlY29yZC5JRCA/PyByZWNvcmQuSWRcbiAgY29uc3QgaWQgPSB0eXBlb2YgaWRSYXcgPT09IFwibnVtYmVyXCIgPyBpZFJhdyA6IE51bWJlcihpZFJhdylcblxuICBjb25zdCBnZXQgPSAoa2V5OiBzdHJpbmcpID0+ICh0eXBlb2YgcmVjb3JkW2tleV0gPT09IFwic3RyaW5nXCIgPyAocmVjb3JkW2tleV0gYXMgc3RyaW5nKS50cmltKCkgOiBudWxsKVxuXG4gIHJldHVybiB7XG4gICAgaWQ6IE51bWJlci5pc0Zpbml0ZShpZCkgPyBOdW1iZXIoaWQpIDogbnVsbCxcbiAgICBuYW1hUGVsYW5nZ2FuOiBnZXQoXCJuYW1hX3BlbGFuZ2dhblwiKSA/PyBcIi1cIixcbiAgICBuYW1hTGF5YW5hbjogZ2V0KFwibmFtYV9sYXlhbmFuXCIpID8/IFwiLVwiLFxuICAgIGthcGFzaXRhc0xheWFuYW46IGdldChcImthcGFzaXRhc19sYXlhbmFuXCIpID8/IFwiLVwiLFxuICAgIHZsYW5JZDogZ2V0KFwidmxhbl9pZFwiKSA/PyBcIi1cIixcbiAgICBuYW1hTWV0cm86IGdldChcIm5hbWFfbWV0cm9cIikgPz8gXCItXCIsXG4gICAgc2l0ZU1ldHJvOiBnZXQoXCJzaXRlX21ldHJvXCIpID8/IFwiLVwiLFxuICAgIGthcGFzaXRhc01ldHJvOiBnZXQoXCJrYXBhc2l0YXNfbWV0cm9cIikgPz8gXCItXCIsXG4gICAgaXBBZGRyZXNzOiBnZXQoXCJpcF9hZGRyZXNzXCIpID8/IFwiLVwiLFxuICAgIGlwR2F0ZXdheTogZ2V0KFwiaXBfZ2F0ZXdheVwiKSA/PyBcIi1cIixcbiAgICByb3V0ZXJHYXRld2F5OiBnZXQoXCJyb3V0ZXJfZ2F0ZXdheVwiKSA/PyBcIi1cIixcbiAgICBjcmVhdGVkQnk6IGdldChcImNyZWF0ZWRfYnlcIiksXG4gICAgY3JlYXRlZEF0OiBnZXQoXCJjcmVhdGVkX2F0XCIpLFxuICAgIHVwZGF0ZWRBdDogZ2V0KFwidXBkYXRlZF9hdFwiKSxcbiAgfVxufVxuXG5mdW5jdGlvbiB0b0FwaVJlc3BvbnNlKGl0ZW1zOiBBa3RpdmFzaUNsaWVudEl0ZW1bXSkge1xuICByZXR1cm4ge1xuICAgIHN0YXR1czogXCJva1wiLFxuICAgIGl0ZW1zLFxuICB9XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplKGJvZHk6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KTogUmVtb3RlQWt0aXZhc2lQYXlsb2FkIHtcbiAgY29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge31cbiAgZm9yIChjb25zdCBjYW1lbEtleSBpbiBDQU1FTF9UT19TTkFLRV9NQVApIHtcbiAgICBjb25zdCB2YWx1ZSA9IGJvZHlbY2FtZWxLZXldXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiB8fCAhdmFsdWUudHJpbSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpZWxkICR7Y2FtZWxLZXl9IHdhamliIGRpaXNpLmApXG4gICAgfVxuICAgIHJlc3VsdFtDQU1FTF9UT19TTkFLRV9NQVBbY2FtZWxLZXldXSA9IHZhbHVlLnRyaW0oKVxuICB9XG4gIHJldHVybiByZXN1bHQgYXMgUmVtb3RlQWt0aXZhc2lQYXlsb2FkXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQWxsSXRlbXMoKTogUHJvbWlzZTxBa3RpdmFzaUNsaWVudEl0ZW1bXT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goUkVNT1RFX0FLVElWQVNJX0NMSUVOVF9BUEksIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KVxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbYXBpL2FrdGl2YXNpLWNsaWVudHNdIGZhaWxlZCB0byBmZXRjaCBhbGwgaXRlbXMsIHJlbW90ZSBBUEkgZXJyb3JcIiwgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyB9KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgbWVuZ2VtYmFsaWthbiBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgICB9XG5cbiAgICBjb25zdCBwYXlsb2FkID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgdW5rbm93blxuICAgIGNvbnN0IGRhdGFBcnJheSA9IEFycmF5LmlzQXJyYXkocGF5bG9hZClcbiAgICAgID8gcGF5bG9hZFxuICAgICAgOiBBcnJheS5pc0FycmF5KChwYXlsb2FkIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5kYXRhKVxuICAgICAgICA/IChwYXlsb2FkIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5kYXRhXG4gICAgICAgIDogW11cblxuICAgIHJldHVybiBkYXRhQXJyYXlcbiAgICAgIC5tYXAoKGl0ZW0pID0+IG5vcm1hbGl6ZUl0ZW0oaXRlbSkpXG4gICAgICAuZmlsdGVyKChpdGVtKTogaXRlbSBpcyBBa3RpdmFzaUNsaWVudEl0ZW0gPT4gaXRlbSAhPT0gbnVsbClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGZldGNoQWxsSXRlbXMoKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih0b0FwaVJlc3BvbnNlKGl0ZW1zKSwgeyBzdGF0dXM6IDIwMCB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbYXBpL2FrdGl2YXNpLWNsaWVudHNdIGZhaWxlZCB0byBmZXRjaCBkYXRhXCIsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiR2FnYWwgbWVuZ2FtYmlsIGRhdGEgYWt0aXZhc2kgcmVzZWxsZXIuXCIsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9LFxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IChhd2FpdCByZXF1ZXN0Lmpzb24oKSkgYXMgUGFydGlhbDxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj5cbiAgICBjb25zdCBwYXlsb2FkID0gc2FuaXRpemUoYm9keSlcblxuICAgIGNvbnN0IHRva2VuID0gY29va2llcygpLmdldChBVVRIX0NPT0tJRV9OQU1FKT8udmFsdWUgPz8gbnVsbFxuICAgIGNvbnN0IGF1dGggPSB2ZXJpZnlBdXRoVG9rZW4odG9rZW4pXG4gICAgaWYgKCFhdXRoKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN0YXR1czogXCJlcnJvclwiLCBtZXNzYWdlOiBcIkFuZGEgYmVsdW0gbG9naW4uXCIgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3RQYXlsb2FkID0ge1xuICAgICAgLi4ucGF5bG9hZCxcbiAgICAgIGNyZWF0ZWRfYnk6IGF1dGgudXNlcm5hbWUsXG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChSRU1PVEVfQUtUSVZBU0lfQ0xJRU5UX0FQSSwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RQYXlsb2FkKSxcbiAgICB9KVxuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IG51bGwpXG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgdHlwZW9mIGVycm9yUGF5bG9hZD8ubWVzc2FnZSA9PT0gXCJzdHJpbmdcIiAmJiBlcnJvclBheWxvYWQubWVzc2FnZS50cmltKCkubGVuZ3RoID4gMFxuICAgICAgICAgID8gZXJyb3JQYXlsb2FkLm1lc3NhZ2VcbiAgICAgICAgICA6IGBBUEkgbWVuZ2VtYmFsaWthbiBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YFxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpXG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7IHN0YXR1czogXCJva1wiIH0pKVxuICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZmV0Y2hBbGxJdGVtcygpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIC4uLnRvQXBpUmVzcG9uc2UoaXRlbXMpLFxuICAgICAgICBtZXNzYWdlOiByZXN1bHQ/Lm1lc3NhZ2UgPz8gXCJBa3RpdmFzaSByZXNlbGxlciBiZXJoYXNpbCBkaXNpbXBhbi5cIixcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogMjAxIH0sXG4gICAgKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbYXBpL2FrdGl2YXNpLWNsaWVudHNdIGZhaWxlZCB0byBjcmVhdGVcIiwgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkdhZ2FsIG1lbnlpbXBhbiBkYXRhIGFrdGl2YXNpIHJlc2VsbGVyLlwiLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDAgfSxcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJvZHkgPSAoYXdhaXQgcmVxdWVzdC5qc29uKCkpIGFzIFBhcnRpYWw8UmVjb3JkPHN0cmluZywgdW5rbm93bj4gJiB7IGlkOiBudW1iZXIgfCBzdHJpbmcgfT5cbiAgICAgIGNvbnN0IHsgaWQsIC4uLmRhdGEgfSA9IGJvZHlcbiAgXG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklEIGFrdGl2YXNpIHRpZGFrIHZhbGlkIGF0YXUgdGlkYWsgdGVyc2VkaWEuXCIpXG4gICAgICB9XG4gIFxuICAgICAgY29uc3QgcGF5bG9hZCA9IHNhbml0aXplKGRhdGEpXG4gIFxuICAgICAgY29uc3QgdG9rZW4gPSBjb29raWVzKCkuZ2V0KEFVVEhfQ09PS0lFX05BTUUpPy52YWx1ZSA/PyBudWxsXG4gICAgICBjb25zdCBhdXRoID0gdmVyaWZ5QXV0aFRva2VuKHRva2VuKVxuICAgICAgaWYgKCFhdXRoKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN0YXR1czogXCJlcnJvclwiLCBtZXNzYWdlOiBcIkFuZGEgYmVsdW0gbG9naW4uXCIgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7UkVNT1RFX0FLVElWQVNJX0NMSUVOVF9BUEl9LyR7aWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICB9KVxuICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IG51bGwpXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAgIHR5cGVvZiBlcnJvclBheWxvYWQ/Lm1lc3NhZ2UgPT09IFwic3RyaW5nXCIgJiYgZXJyb3JQYXlsb2FkLm1lc3NhZ2UudHJpbSgpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gZXJyb3JQYXlsb2FkLm1lc3NhZ2VcbiAgICAgICAgICAgIDogYEFQSSBtZW5nZW1iYWxpa2FuIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKVxuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBzdGF0dXM6IFwib2tcIiB9KSlcbiAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZmV0Y2hBbGxJdGVtcygpXG4gIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgLi4udG9BcGlSZXNwb25zZShpdGVtcyksXG4gICAgICAgICAgbWVzc2FnZTogcmVzdWx0Py5tZXNzYWdlID8/IFwiQWt0aXZhc2kgcmVzZWxsZXIgYmVyaGFzaWwgZGlwZXJiYXJ1aS5cIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDIwMCB9LFxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW2FwaS9ha3RpdmFzaS1jbGllbnRzXSBmYWlsZWQgdG8gdXBkYXRlXCIsIGVycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkdhZ2FsIG1lbXBlcmJhcnVpIGRhdGEgYWt0aXZhc2kgcmVzZWxsZXIuXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfSxcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgXG4gIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdDogUmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICAgIGNvbnN0IGlkID0gc2VhcmNoUGFyYW1zLmdldChcImlkXCIpXG4gIFxuICAgICAgaWYgKCFpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJRCBha3RpdmFzaSB0aWRhayBkaXRlbXVrYW4uXCIpXG4gICAgICB9XG4gIFxuICAgICAgY29uc3QgdG9rZW4gPSBjb29raWVzKCkuZ2V0KEFVVEhfQ09PS0lFX05BTUUpPy52YWx1ZSA/PyBudWxsXG4gICAgICBjb25zdCBhdXRoID0gdmVyaWZ5QXV0aFRva2VuKHRva2VuKVxuICAgICAgaWYgKCFhdXRoKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN0YXR1czogXCJlcnJvclwiLCBtZXNzYWdlOiBcIkFuZGEgYmVsdW0gbG9naW4uXCIgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7UkVNT1RFX0FLVElWQVNJX0NMSUVOVF9BUEl9LyR7aWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICB9KVxuICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JQYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+IG51bGwpXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAgIHR5cGVvZiBlcnJvclBheWxvYWQ/Lm1lc3NhZ2UgPT09IFwic3RyaW5nXCIgJiYgZXJyb3JQYXlsb2FkLm1lc3NhZ2UudHJpbSgpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gZXJyb3JQYXlsb2FkLm1lc3NhZ2VcbiAgICAgICAgICAgIDogYEFQSSBtZW5nZW1iYWxpa2FuIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKVxuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBzdGF0dXM6IFwib2tcIiB9KSlcbiAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZmV0Y2hBbGxJdGVtcygpXG4gIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgLi4udG9BcGlSZXNwb25zZShpdGVtcyksXG4gICAgICAgICAgbWVzc2FnZTogcmVzdWx0Py5tZXNzYWdlID8/IFwiQWt0aXZhc2kgcmVzZWxsZXIgYmVyaGFzaWwgZGloYXB1cy5cIixcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDIwMCB9LFxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW2FwaS9ha3RpdmFzaS1jbGllbnRzXSBmYWlsZWQgdG8gZGVsZXRlXCIsIGVycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkdhZ2FsIG1lbmdoYXB1cyBkYXRhIGFrdGl2YXNpIHJlc2VsbGVyLlwiLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH0sXG4gICAgICApXG4gICAgfVxuICB9Il0sIm5hbWVzIjpbImNvb2tpZXMiLCJOZXh0UmVzcG9uc2UiLCJBVVRIX0NPT0tJRV9OQU1FIiwidmVyaWZ5QXV0aFRva2VuIiwiUkVNT1RFX0FLVElWQVNJX0NMSUVOVF9BUEkiLCJDQU1FTF9UT19TTkFLRV9NQVAiLCJuYW1hUGVsYW5nZ2FuIiwibmFtYUxheWFuYW4iLCJrYXBhc2l0YXNMYXlhbmFuIiwidmxhbklkIiwibmFtYU1ldHJvIiwic2l0ZU1ldHJvIiwia2FwYXNpdGFzTWV0cm8iLCJpcEFkZHJlc3MiLCJpcEdhdGV3YXkiLCJyb3V0ZXJHYXRld2F5Iiwibm9ybWFsaXplSXRlbSIsIml0ZW0iLCJyZWNvcmQiLCJpZFJhdyIsImlkIiwiSUQiLCJJZCIsIk51bWJlciIsImdldCIsImtleSIsInRyaW0iLCJpc0Zpbml0ZSIsImNyZWF0ZWRCeSIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInRvQXBpUmVzcG9uc2UiLCJpdGVtcyIsInN0YXR1cyIsInNhbml0aXplIiwiYm9keSIsInJlc3VsdCIsImNhbWVsS2V5IiwidmFsdWUiLCJFcnJvciIsImZldGNoQWxsSXRlbXMiLCJyZXNwb25zZSIsImZldGNoIiwiY2FjaGUiLCJvayIsImNvbnNvbGUiLCJlcnJvciIsInBheWxvYWQiLCJqc29uIiwiZGF0YUFycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiZGF0YSIsIm1hcCIsImZpbHRlciIsIkdFVCIsIm1lc3NhZ2UiLCJQT1NUIiwicmVxdWVzdCIsInRva2VuIiwiYXV0aCIsInJlcXVlc3RQYXlsb2FkIiwiY3JlYXRlZF9ieSIsInVzZXJuYW1lIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvclBheWxvYWQiLCJjYXRjaCIsImxlbmd0aCIsIlBVVCIsIkRFTEVURSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/aktivasi-clients/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_COOKIE_NAME: () => (/* binding */ AUTH_COOKIE_NAME),\n/* harmony export */   clearAuthCookie: () => (/* binding */ clearAuthCookie),\n/* harmony export */   setAuthCookie: () => (/* binding */ setAuthCookie),\n/* harmony export */   signAuthToken: () => (/* binding */ signAuthToken),\n/* harmony export */   verifyAuthToken: () => (/* binding */ verifyAuthToken)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst HEADER_B64 = Buffer.from(JSON.stringify({\n    alg: \"HS256\",\n    typ: \"JWT\"\n})).toString(\"base64url\");\nconst AUTH_COOKIE_NAME = \"auth-token\";\nfunction getSecret() {\n    return process.env.AUTH_SECRET || \"dev-secret-key\";\n}\nfunction signAuthToken(payload) {\n    const exp = Date.now() + (payload.ttlMs ?? 24 * 60 * 60 * 1000);\n    const body = Buffer.from(JSON.stringify({\n        userId: payload.userId,\n        username: payload.username,\n        exp\n    })).toString(\"base64url\");\n    const signature = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", getSecret()).update(`${HEADER_B64}.${body}`).digest(\"base64url\");\n    return `${HEADER_B64}.${body}.${signature}`;\n}\nfunction verifyAuthToken(token) {\n    if (!token) return null;\n    const parts = token.split(\".\");\n    if (parts.length !== 3) return null;\n    const [header, body, signature] = parts;\n    if (header !== HEADER_B64) return null;\n    const expected = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", getSecret()).update(`${header}.${body}`).digest(\"base64url\");\n    if (!timingSafeEqual(expected, signature)) {\n        return null;\n    }\n    try {\n        const payload = JSON.parse(Buffer.from(body, \"base64url\").toString(\"utf8\"));\n        if (typeof payload.exp !== \"number\" || payload.exp < Date.now()) {\n            return null;\n        }\n        return payload;\n    } catch  {\n        return null;\n    }\n}\nfunction timingSafeEqual(a, b) {\n    const aBuf = Buffer.from(a);\n    const bBuf = Buffer.from(b);\n    if (aBuf.length !== bBuf.length) return false;\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().timingSafeEqual(aBuf, bBuf);\n}\nfunction setAuthCookie(response, payload) {\n    const token = signAuthToken(payload);\n    response.cookies.set({\n        name: AUTH_COOKIE_NAME,\n        value: token,\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: \"development\" === \"production\",\n        path: \"/\",\n        maxAge: 60 * 60 * 24\n    });\n}\nfunction clearAuthCookie(response) {\n    response.cookies.set({\n        name: AUTH_COOKIE_NAME,\n        value: \"\",\n        maxAge: 0,\n        path: \"/\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiXHJcbmltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiXHJcblxyXG50eXBlIFRva2VuUGF5bG9hZCA9IHtcclxuICB1c2VySWQ6IG51bWJlclxyXG4gIHVzZXJuYW1lOiBzdHJpbmdcclxuICBleHA6IG51bWJlclxyXG59XHJcblxyXG5jb25zdCBIRUFERVJfQjY0ID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkoeyBhbGc6IFwiSFMyNTZcIiwgdHlwOiBcIkpXVFwiIH0pKS50b1N0cmluZyhcImJhc2U2NHVybFwiKVxyXG5cclxuZXhwb3J0IGNvbnN0IEFVVEhfQ09PS0lFX05BTUUgPSBcImF1dGgtdG9rZW5cIlxyXG5cclxuZnVuY3Rpb24gZ2V0U2VjcmV0KCk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHByb2Nlc3MuZW52LkFVVEhfU0VDUkVUIHx8IFwiZGV2LXNlY3JldC1rZXlcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2lnbkF1dGhUb2tlbihwYXlsb2FkOiB7IHVzZXJJZDogbnVtYmVyOyB1c2VybmFtZTogc3RyaW5nOyB0dGxNcz86IG51bWJlciB9KTogc3RyaW5nIHtcclxuICBjb25zdCBleHAgPSBEYXRlLm5vdygpICsgKHBheWxvYWQudHRsTXMgPz8gMjQgKiA2MCAqIDYwICogMTAwMClcclxuICBjb25zdCBib2R5ID0gQnVmZmVyLmZyb20oXHJcbiAgICBKU09OLnN0cmluZ2lmeSh7IHVzZXJJZDogcGF5bG9hZC51c2VySWQsIHVzZXJuYW1lOiBwYXlsb2FkLnVzZXJuYW1lLCBleHAgfSksXHJcbiAgKS50b1N0cmluZyhcImJhc2U2NHVybFwiKVxyXG4gIGNvbnN0IHNpZ25hdHVyZSA9IGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIGdldFNlY3JldCgpKS51cGRhdGUoYCR7SEVBREVSX0I2NH0uJHtib2R5fWApLmRpZ2VzdChcImJhc2U2NHVybFwiKVxyXG4gIHJldHVybiBgJHtIRUFERVJfQjY0fS4ke2JvZHl9LiR7c2lnbmF0dXJlfWBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeUF1dGhUb2tlbih0b2tlbj86IHN0cmluZyB8IG51bGwpOiBUb2tlblBheWxvYWQgfCBudWxsIHtcclxuICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbFxyXG4gIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoXCIuXCIpXHJcbiAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMykgcmV0dXJuIG51bGxcclxuICBjb25zdCBbaGVhZGVyLCBib2R5LCBzaWduYXR1cmVdID0gcGFydHNcclxuICBpZiAoaGVhZGVyICE9PSBIRUFERVJfQjY0KSByZXR1cm4gbnVsbFxyXG4gIGNvbnN0IGV4cGVjdGVkID0gY3J5cHRvLmNyZWF0ZUhtYWMoXCJzaGEyNTZcIiwgZ2V0U2VjcmV0KCkpLnVwZGF0ZShgJHtoZWFkZXJ9LiR7Ym9keX1gKS5kaWdlc3QoXCJiYXNlNjR1cmxcIilcclxuICBpZiAoIXRpbWluZ1NhZmVFcXVhbChleHBlY3RlZCwgc2lnbmF0dXJlKSkge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKEJ1ZmZlci5mcm9tKGJvZHksIFwiYmFzZTY0dXJsXCIpLnRvU3RyaW5nKFwidXRmOFwiKSkgYXMgVG9rZW5QYXlsb2FkXHJcbiAgICBpZiAodHlwZW9mIHBheWxvYWQuZXhwICE9PSBcIm51bWJlclwiIHx8IHBheWxvYWQuZXhwIDwgRGF0ZS5ub3coKSkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBheWxvYWRcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0aW1pbmdTYWZlRXF1YWwoYTogc3RyaW5nLCBiOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBjb25zdCBhQnVmID0gQnVmZmVyLmZyb20oYSlcclxuICBjb25zdCBiQnVmID0gQnVmZmVyLmZyb20oYilcclxuICBpZiAoYUJ1Zi5sZW5ndGggIT09IGJCdWYubGVuZ3RoKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gY3J5cHRvLnRpbWluZ1NhZmVFcXVhbChhQnVmLCBiQnVmKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXV0aENvb2tpZShyZXNwb25zZTogTmV4dFJlc3BvbnNlLCBwYXlsb2FkOiB7IHVzZXJJZDogbnVtYmVyOyB1c2VybmFtZTogc3RyaW5nIH0pIHtcclxuICBjb25zdCB0b2tlbiA9IHNpZ25BdXRoVG9rZW4ocGF5bG9hZClcclxuICByZXNwb25zZS5jb29raWVzLnNldCh7XHJcbiAgICBuYW1lOiBBVVRIX0NPT0tJRV9OQU1FLFxyXG4gICAgdmFsdWU6IHRva2VuLFxyXG4gICAgaHR0cE9ubHk6IHRydWUsXHJcbiAgICBzYW1lU2l0ZTogXCJsYXhcIixcclxuICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxyXG4gICAgcGF0aDogXCIvXCIsXHJcbiAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCxcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBdXRoQ29va2llKHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UpIHtcclxuICByZXNwb25zZS5jb29raWVzLnNldCh7XHJcbiAgICBuYW1lOiBBVVRIX0NPT0tJRV9OQU1FLFxyXG4gICAgdmFsdWU6IFwiXCIsXHJcbiAgICBtYXhBZ2U6IDAsXHJcbiAgICBwYXRoOiBcIi9cIixcclxuICB9KVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjcnlwdG8iLCJIRUFERVJfQjY0IiwiQnVmZmVyIiwiZnJvbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGciLCJ0eXAiLCJ0b1N0cmluZyIsIkFVVEhfQ09PS0lFX05BTUUiLCJnZXRTZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiQVVUSF9TRUNSRVQiLCJzaWduQXV0aFRva2VuIiwicGF5bG9hZCIsImV4cCIsIkRhdGUiLCJub3ciLCJ0dGxNcyIsImJvZHkiLCJ1c2VySWQiLCJ1c2VybmFtZSIsInNpZ25hdHVyZSIsImNyZWF0ZUhtYWMiLCJ1cGRhdGUiLCJkaWdlc3QiLCJ2ZXJpZnlBdXRoVG9rZW4iLCJ0b2tlbiIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJoZWFkZXIiLCJleHBlY3RlZCIsInRpbWluZ1NhZmVFcXVhbCIsInBhcnNlIiwiYSIsImIiLCJhQnVmIiwiYkJ1ZiIsInNldEF1dGhDb29raWUiLCJyZXNwb25zZSIsImNvb2tpZXMiLCJzZXQiLCJuYW1lIiwidmFsdWUiLCJodHRwT25seSIsInNhbWVTaXRlIiwic2VjdXJlIiwicGF0aCIsIm1heEFnZSIsImNsZWFyQXV0aENvb2tpZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faktivasi-clients%2Froute&page=%2Fapi%2Faktivasi-clients%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faktivasi-clients%2Froute.ts&appDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTri%20Hartanto%5CDownloads%5CGABUTAN%20MASS%20HARR%5CISOLIR%5CPANELNOC2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();